(self.modernJsonp=self.modernJsonp||[]).push([["99991"],{784548:function(e,t,r){r.d(t,{$y:()=>a,AU:()=>c,VD:()=>p,_d:()=>i,am:()=>d,bj:()=>o,pv:()=>u,tb:()=>l,x1:()=>s});let n="local",i={INIT_CURRENT_USER_TRACKER:"INIT_CURRENT_USER_TRACKER",ADD_VISITED_PAGE:"ADD_VISITED_PAGE",ADD_COMPLETED_SEARCH:"ADD_COMPLETED_SEARCH",REMOVE_COMPLETED_SEARCH:"REMOVE_COMPLETED_SEARCH",ADD_CLICKTHROUGH_PIN:"ADD_CLICKTHROUGH_PIN",UPDATE_DOWNLOAD_COUNT:"UPDATE_DOWNLOAD_COUNT",UPDATE_SAVED_PINS:"UPDATE_SAVED_PINS",UPDATE_REVISITATION:"UPDATE_REVISITATION"},a=e=>({type:i.INIT_CURRENT_USER_TRACKER,payload:e}),o=(e,t)=>({type:i.ADD_VISITED_PAGE,payload:{path:e,pageType:t,storageType:n}}),s=e=>({type:i.ADD_COMPLETED_SEARCH,payload:{search:e,storageType:n}}),l=e=>({type:i.REMOVE_COMPLETED_SEARCH,payload:{query:e,storageType:n}}),d=e=>({type:i.ADD_CLICKTHROUGH_PIN,payload:{pin:e,storageType:n}}),c=()=>({type:i.UPDATE_DOWNLOAD_COUNT,payload:{storageType:n}}),u=e=>({type:i.UPDATE_SAVED_PINS,payload:{pins:e,storageType:n}}),p=e=>({type:i.UPDATE_REVISITATION,payload:{revisitation:e,storageType:n}})},293123:function(e,t,r){r.d(t,{$2:()=>g,EI:()=>m,HY:()=>A,Ku:()=>h,LI:()=>y,V5:()=>T,Vz:()=>p,aJ:()=>E,cn:()=>I,cq:()=>b,eo:()=>f,jo:()=>S,yb:()=>_});var n=r(4533),i=r(994507),a=r(971258),o=r(52433),s=r(34550),l=r(418282),d=r(163691),c=r(767415);function u(e){return"local"===e?(0,s.M0)():(0,l.Nl)()}let p=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.PW;return(t.getItem(n.pm)||i.PW).map(e=>({...e,path:(0,o.Z)(e.path)}))}catch(e){return(0,c.nP)("current_user_tracker.storage.get_visited_pages.error"),i.PW}},m=(e,t,r="local")=>{try{let s=u(r);if(!s.accessAllowed)return;let l=(0,o.Z)(e),d=[...p(r)],c=(0,a.b8)(d,l,t,i.LG);c!==d&&s.setItem(n.pm,c)}catch(e){(0,c.nP)("current_user_tracker.storage.add_visited_page.error")}},_=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.fE;return t.getItem(n.ny)||i.fE}catch(e){return(0,c.nP)("current_user_tracker.storage.get_completed_searches.error"),i.fE}},g=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let o=[..._(t)],s=(0,a.aq)(o,e,i.LG);s!==o&&r.setItem(n.ny,s)}catch(e){(0,c.nP)("current_user_tracker.storage.add_completed_search.error")}},f=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let i=[..._(t)],o=(0,a.zz)(i,e);r.setItem(n.ny,o)}catch(e){(0,c.nP)("current_user_tracker.storage.remove_completed_search.error")}},h=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.iK;return t.getItem(n.Vb)||i.iK}catch(e){return(0,c.nP)("current_user_tracker.storage.get_clickthrough_pins.error"),i.iK}},y=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let o=[...h(t)],s=(0,a.UP)(o,e,i.LG);s!==o&&r.setItem(n.Vb,s)}catch(e){(0,c.nP)("current_user_tracker.storage.add_clickthrough_pin.error")}},E=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.cH;return parseInt(t.getItem(n.rN)||String(i.cH),10)}catch(e){return(0,c.nP)("current_user_tracker.storage.get_download_count.error"),i.cH}},T=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.rN,e.toString())}catch(e){(0,c.nP)("current_user_tracker.storage.set_download_count.error")}},I=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.pn;return t.getItem(n.s1)??i.pn}catch(e){return(0,c.nP)("current_user_tracker.storage.get_saved_pins.error"),i.pn}},b=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.s1,e)}catch(e){(0,c.nP)("current_user_tracker.storage.set_saved_pins.error")}},S=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return(0,i.dm)();let{count:r,time:a,ts:o}=t.getItem(n.SI)??{};if("number"==typeof r&&"number"==typeof a&&"number"==typeof o)return{count:r,time:a,ts:o};return(0,i.dm)()}catch(e){return(0,c.nP)("current_user_tracker.storage.get_revisitation.error"),(0,i.dm)()}},A=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.SI,(0,d.Z)(e))}catch(e){(0,c.nP)("current_user_tracker.storage.set_revisitation.error")}}},971258:function(e,t,r){r.d(t,{UP:()=>l,aq:()=>s,b8:()=>o,zz:()=>d});var n=r(52433),i=r(163691);let a=(e,t,r)=>{let n=[t,...e];return n.length>r?n.slice(0,r):n},o=(e,t,r,o)=>{let s=(0,n.Z)(t);return((e,t)=>{let r=e.length,i=(0,n.Z)(t),a=r?(0,n.Z)(e[0].path):"";return!r||i!==a})(e,s)?a(e,(0,i.Z)({path:s,pageType:r}),o):e},s=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].query:"";return!r||t!==n})(e,t.query)?a(e,(0,i.Z)(t),r):e,l=(e,t,r)=>((e,t)=>{let r=e.length,n=r?e[0].pinId:"";return!r||t!==n})(e,t.pinId)?a(e,(0,i.Z)(t),r):e,d=(e,t)=>e.filter(e=>e.query!==t)},52433:function(e,t,r){r.d(t,{Z:()=>i});var n=r(197908);function i(e){let t=(0,n.Z)(e);return t?`/pin/${t}/`:e}},589172:function(e,t,r){r.d(t,{Z:()=>i});var n=r(501010);function i(e){let{expName:t,anyEnabled:r,group:i}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:r}=e,n=r("web_masonry_v2",{dangerouslySkipActivation:t});return n.group?{expName:"web_masonry_v2",...n}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,n.Z)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:r,group:i,isMeasureAllEnabled:"enabled_measure_all"===i||"enabled_measure_all_impression_fix"===i,isImpressionFixEnabled:"control_impression_fix"===i||"enabled_impression_fix"===i||"enabled_measure_all_impression_fix"===i}}},79271:function(e,t,r){r.d(t,{Fw:()=>E,OC:()=>g,ZP:()=>y});var n=r(667294),i=r(230201),a=r(589172),o=r(609252),s=r(774838),l=r(739405),d=r(281213),c=r(358198),u=r(2061),p=r(767415),m=r(177433);let _=0,g=()=>_,f={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},h=({events:e,startTime:t,endTime:r})=>e?.filter(e=>e>=t&&e<=r)||[];function y({carouselData:e,closeupImpressionType:t,closeupNavigationType:r,componentType:g,contextLogData:y,clientTrackingParams:E,duploShouldTrackPinEvents:T,elementType:I,impressionAuxFields:b,inImpressionExp:S,impressionType:A,impressionsFramework:v,isPaused:P,loggingId:w,objectIdStr:R,slotIndex:C,trackCarousel:D,viewData:N,viewParameter:O,viewType:L,isPromoted:k,storyPinProductEventData:G}){let{logContextEvent:x}=(0,i.u)(),{logMrcVideoAdEventOnPlay:H}=(0,d.H)(),{addImpression:U}=(0,c.WW)()||{},{logStat:M}=(0,u.Yg)(),F=v||o.Z,Z=(0,n.useRef)(null),B=(0,n.useRef)(e=>{});B.current=n=>{let i=f[A],a=i.idType,o={clientTrackingParams:E,endTime:n.endTime,[a]:w,slotIndex:C,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...b,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===A){_+=1;let e=[],t=n.visibleEvents||new Map,r=n.hiddenEvents||new Map;(b&&b.isPromoted||k)&&[1,50,80,2,102].forEach(i=>{let a=h({events:t.get(i),startTime:n.startTime,endTime:n.endTime}),o=h({events:r.get(i),startTime:n.startTime,endTime:n.endTime});a.forEach(t=>{e.push({type:i,time:t||0,visible:!0})}),o.forEach(t=>{e.push({type:i,time:t||0,visible:!1})})}),o={...o,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},b?.nearDupSignature&&U&&g&&[13007,13176,68].includes(g)&&U(b.nearDupSignature)}let s={component:g,object_id_str:R,view_type:L,view_data:N||{},view_parameter:O};if(D)e&&D&&x({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...s,aux_data:{...y}});else{let e={clientTrackingParams:E,event_type:i.eventType,...s,element:I,event_data:{[i.impressionType]:"Story"===A?o:[o],...G?{storyPinProductEventData:G}:{}},aux_data:{closeup_navigation_type:r,...y}};x(e),H(e)}T&&M("log_pin_impression")};let{expName:V,group:q}=(0,a.Z)({skipActivation:!0}),Y=(0,l.ZP)(),W=(0,m.Zv)(),{isAuthenticated:j}=(0,s.B)(),Q=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=Z;if(t instanceof HTMLElement&&(!k||t.getElementsByTagName("img").length>0)){let r=F.start(t);r.onExitViewport(B.current).setDebugId(w||"unknown"),T&&r.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,q&&(0,p.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:Y,experimentName:V,group:q,handlerId:W,isAuthenticated:j,slotIndex:C??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}T&&M("log_pin_impression_track",{didStartTracking:e})},[Z.current]);return(0,n.useEffect)(()=>(S&&!F.inExperiment&&F.setExperimentStatus(!0),P||Q(),()=>{let{current:e}=Z;e instanceof HTMLElement&&(!k||e.getElementsByTagName("img").length>0)&&F.stop(e)}),[P,Q]),Z}let E=({children:e,...t})=>e({impressionTrackerRef:y(t)})},138482:function(e,t,r){r.d(t,{Z:()=>a});var n=r(312048);let i=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/holiday-shopping","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/predicts2026","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-image-lens-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function a(e){return!!(0,n.LX)({path:"/:username/",end:!0},e.pathname)&&!i.includes(e.pathname.replace(/\/$/,""))}},87980:function(e,t,r){r.d(t,{F9:()=>d,LM:()=>l,VZ:()=>a,cQ:()=>c,rZ:()=>o});var n=r(397345),i=r(705460);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(n.wc).length:((0,i.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(n.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,r=window.pageYOffset||0;return e.getBoundingClientRect().top+r>=t},c=(e,t,r)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[n.Wf,...e?[n.fF]:[],...t?[n.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(r){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let r=[...e.children];!r.length&&e.style.backgroundImage?d.push(e):r.length&&r.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,r)=>{if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&((e,t)=>{let r=o(e);if(!r)return(0,i.H)("missing_client_rect"),!1;if(r.width<70&&r.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:r,pageYOffset:n})=>{let i=e+n;if(i>=r)return!1;let a=Math.min(t,r-i);return a>.5*t||a>.2*r})(r,t)})(r,a)){let t=s(r);if(t){let n=(t||"").replace(/.*\//,"");return e.concat([{element:r,fileName:n}])}}return e},[])}},397345:function(e,t,r){r.d(t,{$N:()=>l,Kb:()=>n,Wf:()=>o,fF:()=>s,wc:()=>a});let n="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${n}"]`],a=i.join(","),o=i.map(e=>`${e} img`).join(","),s=i.map(e=>`${e} div[style*=background-image]`).join(","),l=i.map(e=>`${e} video`).join(",")},405897:function(e,t,r){r.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},197908:function(e,t,r){r.d(t,{Z:()=>a});var n=r(854897),i=r(99737);let a=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,r=(0,i.Z)(e);if(t.test(r.path)){let e=r.path.match(t);if(e)return(0,n.Z)(e[1]).pinId||void 0}}},854897:function(e,t,r){r.d(t,{Z:()=>n});function n(e){if((e||"").includes("--")){let t=e.split("--"),r=t.pop();return{text:t.join("--"),pinId:r}}return{text:"",pinId:e}}},986523:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294);let i=()=>()=>{},a=()=>!1,o=()=>!0,s=()=>(0,n.useSyncExternalStore)(i,a,o)},64892:function(e,t,r){r.d(t,{GW:()=>i,RL:()=>n,s4:()=>a});let n="ios",i="android",a="ipad"},358198:function(e,t,r){r.d(t,{BW:()=>_,WW:()=>p});var n=r(686659),i=r(667294),a=r(15881),o=r(213491),s=r(501010),l=r(418282),d=r(767415),c=r(785893);let{Provider:u,getMaybe:p}=(0,o.Z)("CloseupNearDupSigsTracker"),m=({children:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let t=(0,l.Nl)(),r=(0,i.useRef)([]),o=(0,i.useRef)(new Set),s=(0,i.useRef)([]),p=(0,i.useRef)(new Set),m=(0,i.useRef)([null,[]]),_=(0,i.useCallback)(()=>{t.setItem(a.S4,r.current),t.setItem(a.yb,s.current)},[t]),g=(0,i.useCallback)(()=>{let e=t.getItem(a.S4),n=t.getItem(a.yb);if(e)try{Array.isArray(e)&&e.every(e=>"string"==typeof e)&&(r.current=e.slice(-5),o.current=new Set(r.current))}catch(e){(0,d.nP)("closeup_page.near_dup.session_storage_sync.closeup.fail",{sampleRate:1})}if(n)try{Array.isArray(n)&&n.every(e=>"string"==typeof e)&&(s.current=n.slice(-35),p.current=new Set(s.current))}catch(e){(0,d.nP)("closeup_page.near_dup.session_storage_sync.impression.fail",{sampleRate:1})}},[r,s,t]),f=(0,i.useCallback)(e=>{if(p.current.has(e)&&(s.current=s.current.filter(t=>t!==e)),s.current.length>=35){let e=s.current.shift();e&&p.current.delete(e)}p.current.add(e),s.current.push(e)},[]),h=(0,i.useCallback)(e=>{if(o.current.has(e)&&(r.current=r.current.filter(t=>t!==e)),r.current.length>=5){let e=r.current.shift();e&&o.current.delete(e)}o.current.add(e),r.current.push(e),_()},[_]),y=(0,i.useCallback)(e=>{let[t,n]=m.current;if(t===e)return n;0===r.current.length&&0===s.current.length&&g();let i=Array.from(new Set([...s.current,...r.current]));return m.current=[e,i],i},[g]);(0,i.useEffect)(()=>_,[_]);let E=(0,i.useMemo)(()=>({addImpression:f,addCloseup:h,getTrackedNearDupSigs:y}),[f,h,y]);return(0,c.jsx)(u,{value:E,children:e})},_=({children:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("CloseupNearDupSigsTrackerContext","/app/www/closeup/CloseupNearDupSigsTrackerContext.tsx")},[]);let{checkExperiment:t}=(0,s.Z)();return t("web_closeup_rabbit_hole_dedup").anyEnabled?(0,c.jsx)(m,{children:e}):(0,c.jsx)(u,{value:void 0,children:e})}},2061:function(e,t,r){r.d(t,{Yg:()=>l,ib:()=>c,nF:()=>p,xX:()=>u});var n=r(501010),i=r(774838),a=r(739405),o=r(767415);let s=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,r)=>(0,o.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...r}})}},l=()=>{let{isAuthenticated:e}=(0,i.B)(),t=(0,a.HG)(),{checkExperiment:r}=(0,n.Z)();return e&&!t?s({checkExperiment:r}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:r}=s({checkExperiment:e});(d+=1)<10&&r(`repin_${d}`)};function u({checkExperiment:e,isDesktop:t,isAuthenticated:r}){if(!r)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,shouldPrefetchCloseupPreviewFragment:!1}}{let{anyEnabled:t,group:r}=e("auth_mweb_graphql_pin_page");switch(r){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};case"enabled_prefetch_closeup_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!0};case"only_closeup":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!1,shouldPrefetchCloseupPreviewFragment:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,shouldPrefetchCloseupPreviewFragment:!1};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,shouldPrefetchCloseupPreviewFragment:!1}}}}function p(){let{checkExperiment:e}=(0,n.Z)(),t=(0,a.HG)(),{isAuthenticated:r}=(0,i.B)();return u({checkExperiment:e,isDesktop:t,isAuthenticated:r})}},729475:function(e,t,r){r.d(t,{_9:()=>a,o6:()=>n,tg:()=>i});let n=20,i=24,a=20},438274:function(e,t,r){r.d(t,{Z:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},682004:function(e,t,r){r.d(t,{$:()=>y,G:()=>E});var n=r(686659),i=r(667294),a=r(422578),o=r(312048),s=r(244311),l=r(501010),d=r(774838);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function u(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=r(362777),m=r(767415),_=r(785893);let g=(0,i.createContext)(null),f=/(^\/)|:|(\/$)/g,h=/\//g,y=({children:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,a.useRelayEnvironment)(),{checkExperiment:r}=(0,l.Z)(),s=(0,d.B)(),c=(0,i.useRef)({}),u=(0,i.useCallback)(e=>{let{rootComponent:n,loadedValueState:i}=I(T(c.current,e),e,"Both",t,r,s);return"NotYetRendered"===i.performanceLoggingState.kind&&(i.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:n,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===i.performanceLoggingState.kind){let r=Date.now();(0,m.LY)("entrypointRouter.routeTiming."+e.kind.replace(f,"").replace(h,"_"),r-i.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),i.performanceLoggingState={kind:"Complete"}}},loadedValue:i.loadedValue}},[r,t,s]),y=(0,o.s0)(),E=(0,i.useCallback)(e=>{I(T(c.current,e),e,"Both",t,r,s),y((0,p.w)(e))},[y,r,t,s]),b=(0,i.useCallback)((e,n)=>{let i=T(c.current,e);"Both"===n&&I(i,e,n,t,r,s)},[r,t,s]),S=(0,i.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:u,preload:b,imperativelyNavigate:E}),[u,E,b]);return(0,_.jsx)(g,{value:S,children:e})};function E(){let e=(0,i.useContext)(g);if(null==e)throw Error("Missing entrypoint context");return e}function T(e,t){let r=p.Z[t.kind];if(null==r)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let n=r.loader();return e[t.kind]??={rootComponent:c(r.rootComponent()),loadedValueStates:{},loader:(0,s.isPromise)(n)?c(n):u(n)}}function I(e,t,r,n,i,a){var o;let s=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let r=Object.keys(t).sort(),n={};for(let i=0;i<r.length;i++)n[r[i]]=e(t[r[i]]);return n}(t.routeParams)),{loadedValueStates:l,rootComponent:d,loader:p}=e;return{rootComponent:d,loadedValueState:l[s]??=(o=t.kind,setTimeout(()=>{let e=l[s];null!=e&&(0,m.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:o,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:r}=e;switch(r.kind){case"Pending":return c(r.promise.then(t));case"Ok":return u(t(r.value));case"Err":var n;return{result:{kind:"Err",error:n=r.error},read:()=>{throw n}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:n,checkExperiment:i,requestContext:a})),performanceLoggingState:{kind:"NotYetRendered"}})}}},362777:function(e,t,r){r.d(t,{w:()=>a,Z:()=>i});var n=r(312048);let i={"/collage-creation-tool":{loader:()=>Promise.all([r.e("8126"),r.e("50444")]).then(r.bind(r,231718)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("19007"),r.e("57207"),r.e("8126"),r.e("75986"),r.e("58179"),r.e("76201")]).then(r.bind(r,406031)).then(e=>e.default)},"/comparison/results":{loader:()=>r.e("77087").then(r.bind(r,531297)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("62830"),r.e("95649"),r.e("69519")]).then(r.bind(r,851347)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>r.e("9490").then(r.bind(r,851605)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("62830"),r.e("95649"),r.e("90634")]).then(r.bind(r,838119)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([r.e("25418"),r.e("996")]).then(r.bind(r,890450)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("64024"),r.e("47336")]).then(r.bind(r,691202)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>r.e("62315").then(r.bind(r,308821)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("15417"),r.e("16868"),r.e("97191"),r.e("14635"),r.e("2717"),r.e("16829")]).then(r.bind(r,507458)).then(e=>e.default)},"/today/":{loader:()=>r.e("42207").then(r.bind(r,415466)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("39366"),r.e("25418"),r.e("91678")]).then(r.bind(r,352067)).then(e=>e.default)}};function a(e){return(0,n.Gn)(e.kind,e.routeParams)}},109571:function(e,t,r){r.d(t,{I:()=>o,t:()=>a});var n=r(667294),i=r(312048);let a=(0,n.createContext)(null);function o(){return(0,i.TH)()===(0,n.useContext)(a)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/99991-4b8487df9fe89693.mjs.map