(self.modernJsonp=self.modernJsonp||[]).push([["58179"],{894870:function(e,t,r){r.d(t,{q:()=>p});var n=r(667294),a=r(581722),s=r(312048),o=r(322830),l=r(935059),i=r(575820),u=r(966039),d=r(179664),c=r(513504);let p=()=>{let e=(0,s.TH)(),t=(0,l.Z)(),r=(0,a.I0)(),{getNuxSignals:p,selectedUseCases:_,selectedPins:g,shouldUseNewReducerState:m}=(0,d.u)(),h=m?p():(0,u.rQ)(_,g);return(0,n.useCallback)(()=>{let n=t.isAuth&&t.firstHomeFeedRequestAfterNux,a=(0,o.Z)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(n&&r((0,c.H5)(!1)),n),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,i.mB)(e.search).pwt_performance_testing)),inNewsHub:e?.pathname.includes("news_hub")??!1});return{name:"UserHomefeedResource",options:h.length>0?{...a,nux_signals_map:h}:a}},[r,t,e,h])}},424367:function(e,t,r){r.d(t,{Z:()=>o});var n=r(501010),a=r(774838),s=r(739405);function o(){let{isAuthenticated:e}=(0,a.B)(),t=(0,s.ml)(),{checkExperiment:r}=(0,n.Z)();return{mWebCloseupRedesignEnabled:e&&t&&r("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:r("mweb_closeup_redesign").group}}},933442:function(e,t,r){r.d(t,{_:()=>l,p:()=>i});var n=r(667294),a=r(213491),s=r(785893);let{Provider:o,get:l}=(0,a.Z)("VisualShopContext");function i({children:e}){let[t,r]=(0,n.useState)({}),[a,l]=(0,n.useState)({}),i=(0,n.useRef)(0),u=(0,n.useRef)("");return(0,s.jsx)(o,{value:{cachedOneBarModules:t,setCachedOneBarModules:r,cachedDescriptorModules:a,setCachedDescriptorModules:l,imageContainerScrollTop:i,imageContainerScrollTopForPinId:u},children:e})}},59111:function(e,t,r){r.d(t,{Z:()=>l});var n=r(686659),a=r(667294);r(441143);var s=r(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){(0,a.useEffect)(()=>{(0,n.Z)("InlineStyle","/app/packages/InlineStyle.tsx")},[]);let{css:t,unsafeCSS:r,...l}=e,i=String(t||"")||r||"";return i?(0,s.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(o.factory(i))}}):null}},538985:function(e,t,r){r.d(t,{Cd:()=>h,G:()=>T,IA:()=>C,M5:()=>A,ML:()=>c,Oh:()=>b,Pe:()=>d,Tv:()=>g,Uy:()=>p,Xf:()=>E,cO:()=>f,ew:()=>_,nN:()=>y,p9:()=>v,yo:()=>m});var n=r(423234),a=r(112274),s=r(943271),o=r(245563),l=r(216975),i=r(841270),u=r(767415);let d=e=>e._('Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.', 'birthdateConfirmation.HelperText', 'Helper text notifying users to input their own birthday'),c=e=>e._('Use your own birthday, even if this a business account', 'birthdateConfirmation.HelperText.ownBirthday', 'Helper text notifying users to input their own birthday'),p=e=>e._('Oops! Please use a valid age to sign up.', 'existingUser.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register'),_=(e,t)=>{let{locale:r}=t.getLocaleData(),n=(0,o.Z)(e),a=n.toLocaleString(r,{month:"long"}),s=n.getDate().toString(),i=n.getFullYear();return(0,l.nk)(t._('Is {{month}} {{day}}, {{year}} your birthday?', 'birthdateConfirmation.heading', 'Header for the confirmation model verifying the age for the birthdate that the user inputted, month: month inputted into the fields, day: day inputted into the fields, year: year inputted into the fields'),{month:a,day:s,year:i})},g=(e,t,r,n,a=!1)=>{let s=(0,l.nk)(a?e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}}.', 'settings birthday error message', 'label for settings birthday error message. dayError: Incorrect day. monthError: Incorrect month. yearError: Incorrect year.'):e._('Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.', 'signup birthday error message', 'label for sign up birthday error message'),{dayError:t?e._('day', 'dayError keyword placeholder', 'label for dayError keyword place holder'):"",monthError:r?e._('month', 'monthError keyword placeholder', 'label for monthError keyword place holder'):"",yearError:n?e._('year', 'monthError keyword placeholder', 'label for monthError keyword place holder'):""}).filter(e=>0!==e.length);return 3===s.length?s.join(""):s[0]+s.slice(1,-1).join(", ")+s[s.length-1]},m=({country:e})=>e&&e in i.T3?i.T3[e]:i.Ur,h=(e,t)=>{let r=new Date,n=new Date(r.getFullYear()-t,r.getMonth(),r.getDate());return new Date(e)<=n},f=new Date().getFullYear(),y=new Date().getFullYear()-120,E=12,b=1,v=1,T=31,w="yyyy-MM-dd",A=e=>{let t=new Date,r=new Date(y,t.getMonth(),t.getDate()),n=h(e,5),a=new Date(e)>r;return n&&a};function C(e){let t=(0,n.Z)(e,w,new Date);if((0,a.Z)(t))return e;let r=new Date(e);try{return(0,s.Z)(r,w)}catch{return(0,u.nP)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},214879:function(e,t,r){r.d(t,{Z:()=>a,v:()=>n});let n=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!n())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},245563:function(e,t,r){r.d(t,{Z:()=>n});let n=e=>{let t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},562400:function(e,t,r){r.d(t,{Z:()=>n});function n(e,t,r){let n,a,s,o=!!r?.leading,l=r?.trailing!==!1,i=r?.maxWait?Math.max(r.maxWait,t):void 0,u=null,d=0;function c(t){let r=n;return n=void 0,d=t,r&&(a=e(...r)),a}function p(e){let r=e-(s??0),n=e-d;return void 0===s||r>=t||r<0||void 0!==i&&n>=i}function _(){let e=Date.now();p(e)?(u=null,l&&n)?c(e):n=void 0:u=setTimeout(_,function(e){let r=e-(s??0),n=e-d,a=t-r;return void 0!==i?Math.min(a,i-n):a}(e))}function g(){null!==u&&clearTimeout(u),u=setTimeout(_,t)}function m(...e){let r=Date.now(),l=p(r);if(n=e,s=r,l){if(null===u)return d=r,u=setTimeout(_,t),o?c(r):a;else if(void 0!==i)return g(),c(r)}return null===u&&g(),a}return m.flush=function(){if(null!==u&&n){let e=Date.now();return clearTimeout(u),u=null,c(e)}return a},m.cancel=function(){null!==u&&clearTimeout(u),d=0,n=void 0,s=void 0,u=null},m}},839603:function(e,t,r){r.d(t,{Et:()=>s,G0:()=>i,HG:()=>m,I_:()=>n,Ki:()=>d,ON:()=>b,PB:()=>_,Sz:()=>c,XF:()=>o,Xq:()=>p,ZG:()=>u,_r:()=>y,iW:()=>a,s5:()=>l,tO:()=>f,tr:()=>g,xP:()=>E,zk:()=>h});let n="var(--comp-button-color-background-primary-default)",a="var(--comp-button-color-background-primary-disabled)",s="var(--comp-button-color-background-secondary-default)",o="var(--comp-button-color-background-tertiary-semi-transparent-default)",l="var(--comp-button-color-hover-background-primary-default)",i="var(--comp-button-color-hover-background-secondary-default)",u="var(--comp-button-color-hover-background-tertiary-default)",d="var(--comp-button-color-hover-background-shopping-default)",c="var(--comp-button-color-hover-background-light-default)",p="var(--comp-button-color-hover-background-tertiary-semi-transparent-default)",_="var(--comp-button-color-hover-background-transparent-default)",g="var(--comp-button-color-pressed-background-secondary-default)",m="var(--comp-progressbar-color-background-bar-unfilled)",h="var(--comp-progressbar-color-background-bar-default)",f="var(--comp-progressbar-color-background-bar-success)",y="var(--comp-progressbar-color-background-bar-warning)",E="var(--comp-progressbar-color-background-bar-error)",b="var(--comp-bannerslim-color-background-recommendation-expanded)"},465784:function(e,t,r){r.d(t,{ZP:()=>d,bN:()=>i,p4:()=>u});var n=r(686659),a=r(667294),s=r(739405),o=r(9065),l=r(785893);let i=(0,o.Z)(()=>r.e("44109").then(r.bind(r,551737)),{ssr:!1},e=>551737,"DesktopModal",e=>["44109"]),u=(0,o.Z)(()=>r.e("45718").then(r.bind(r,659546)),{ssr:!1},e=>659546,"MobileModal",e=>["45718"]);function d(e){(0,a.useEffect)(()=>{(0,n.Z)("Modal","/app/packages/gestaltExtensions/Modal.tsx")},[]);let t=(0,s.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){let{isOpen:t,mobileAccessibilityCloseIconLabel:r,mobileAllowScroll:n,mobileHeadingSize:a,mobileHideCloseIcon:s,mobileIsFullscreen:o,mobileIsSlideUp:u,mobileTopOffset:d,type:c,mobileIsFooter:p,zIndex:_,...g}=e;return(0,l.jsx)(i,{...g})}let{allowMediaPlay:o,allowScroll:d,role:c,size:p,_dangerouslyDisableScrollBoundaryContainer:_,layerZIndex:g,...m}=e;return(0,l.jsx)(u,{...m,isOpen:r})}},924591:function(e,t,r){r.d(t,{Z:()=>d});var n=r(686659),a=r(667294),s=r(740097),o=r(100424),l=r(739405),i=r(893957),u=r(785893);function d({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:r,primaryAction:d,dismissButton:c,helperLink:p,thumbnail:_,type:g,dataTestId:m,duration:h=2e3,onHide:f,href:y,onClick:E,openNewPage:b,imageUrl:v}){let T;(0,a.useEffect)(()=>{(0,n.Z)("Toast","/app/packages/gestaltExtensions/Toast.tsx")},[]);let w=(0,l.ZP)(),[A,C]=(0,a.useState)(!1),[S,P]=(0,a.useState)(!1),M=(0,a.useRef)(void 0),O=()=>{C(!0),M.current=setTimeout(f,o.Vg)},R=()=>{M.current=setTimeout(O,h)},k=()=>{M.current&&clearTimeout(M.current)};(0,i.Z)(()=>(setTimeout(()=>P(!0),100),R(),k)),v&&(T={image:(0,u.jsx)(s.Ee,{alt:"string"==typeof r?r:`${r[0]} ${r[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:v})});let D=(0,u.jsx)(s.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:c,helperLink:p,primaryAction:d,text:r,thumbnail:T??_,type:g}),{marginTop:I,opacity:N,pointerEvents:G,position:x,transform:U,transition:Z,visibility:L}=(0,o.ZP)({deviceType:w,hiding:A,visible:S});return(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:U,transition:Z,visibility:L,pointerEvents:G}},"data-test-id":m??"toast",display:"flex",marginTop:I,onMouseEnter:k,onMouseLeave:R,opacity:N,position:x,children:y?(0,u.jsx)(s.Tg,{href:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{y.startsWith("#")&&(e.preventDefault(),t()),E?.(e)},rounding:"pill",target:b?"blank":null,children:D}):D})}},100424:function(e,t,r){r.d(t,{Vg:()=>n,ZP:()=>a});let n=200,a=({deviceType:e,hiding:t,visible:r})=>{let n="desktop"===e,a=0,s=n?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",l="hidden";return r&&!t&&(a=1,s="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),r&&t&&(s="scale(1.1)",o="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:10*!!n,transform:s,transition:o,visibility:l}}},319226:function(e,t,r){r.d(t,{u_:()=>c.ZP,FN:()=>p.Z,qE:()=>o,HE:()=>d});var n=r(740097),a=r(785893);function s({accessibilityLabel:e,color:t,name:r,outline:s,size:o,src:l,verified:i}){return(0,a.jsx)(n.qE,{accessibilityLabel:e,color:t,name:r,outline:s,size:o,src:l?.includes("images/user/default")&&r?void 0:l,verified:i})}s.displayName="Avatar";let o=s;var l=r(216975),i=r(24246);function u({accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:r,addCollaborators:s,collaborators:o,href:u,onClick:d,ref:c,role:p,size:_}){let g=(0,i.Z)();return(0,a.jsx)(n.HE,{ref:c,accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:r,accessibilityLabel:(({listOfUsers:e,i18n:t,addCollaborators:r=!1})=>{let n={first:e[0]??"",second:e[1]??"",third:e[2]??"",remaining:String(e.length-2)};if(e.length-2>=99)return r?(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and over 99 others. Add collaborators.', 'getTranslatedList.moreThan99PeopleAndAddCollaborators', 'Generic message that lists more than 99 people (ex: Stevie, Michael, and over 99 others) and suggests adding collaborators. first: the first person, second: the second person'),n):(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and over 99 others.', 'getTranslatedList.moreThan99People', 'Generic message that lists more than 99 people (ex: Stevie, Michael, and over 99 others). first: the first person, second: the second person'),n);if(r)switch(e.length){case 0:return"";case 1:return(0,l.Wc)(t._('Collaborators: {{ first }}. Add collaborators.', 'getTranslatedList.onePersonAndAddCollaborator', 'Generic message that lists 1 person (ex: Stevie) and suggests adding collaborators. first: the first person, second: the second person'),n);case 2:return(0,l.Wc)(t._('Collaborators: {{ first }} and {{ second }}. Add collaborators.', 'getTranslatedList.twoPeopleAndAddCollaborator', 'Generic message that lists 2 people (ex: Stevie and Michael) and suggests adding collaborators. first: the first person, second: the second person'),n);case 3:return(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ third }}. Add collaborators.', 'getTranslatedList.threePeopleAndAddCollaborator', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto) and suggests adding collaborators. first: the first person, second: the second person, third: the third person'),n);default:return(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ remaining }} more. Add collaborators.', 'getTranslatedList.moreThan2PeopleAndAddCollaborators', 'Generic message that lists more than 2 people (ex: Stevie, Michael, and more) and suggests adding collaborators. first: the first person, second: the second person, remaining: the remaining items'),n)}switch(e.length){case 0:return"";case 1:return(0,l.Wc)(t._('{{ first }}.', 'getTranslatedList.onePerson', 'Generic message that lists 1 person (ex: Stevie). first: the first person'),n);case 2:return(0,l.Wc)(t._('Collaborators: {{ first }} and {{ second }}.', 'getTranslatedList.twoPeople', 'Generic message that lists 2 people (ex: Stevie and Michael) and suggests adding a collaborator. first: the first person, second: the second person'),n);case 3:return(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ third }}.', 'getTranslatedList.threePeople', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto). first: the first person, second: the second person, third: the third person'),n);default:return(0,l.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ remaining }} more.', 'getTranslatedList.moreThan2People', 'Generic message that lists more than 2 people (ex: Stevie, Michael, and 2 more). first: the first person, second: the second person, remaining: the remaining items'),n)}})({listOfUsers:o.map(e=>e.name),i18n:g,addCollaborators:s}),addCollaborators:s,collaborators:o.map(e=>{let t;return{...e,src:(t=e.src,t?.includes("images/user/default"))?void 0:e.src}}),href:u,onClick:d,role:p,size:_})}u.displayName="AvatarGroup";let d=u;var c=r(465784),p=r(924591)},331506:function(e,t,r){r.d(t,{bN:()=>_,BY:()=>c,fs:()=>i,EU:()=>l,kt:()=>p,Ly:()=>d,RC:()=>o,eK:()=>u});let n=/\s\s+/g;var a=r(680589);let s=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_title"])),o=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,l=(e,t)=>e?e.trim().length>t?(0,a.ZP)(e.trim(),t).trim():e.trim():"",i=({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:s})=>{let o=s||e,i=l(t,200);return i||r||n||(a&&o?o:null)},u=e=>{let{richSummaryDisplayName:t}=e,r=e.pinJoinVisualAnnotation||[],s=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",i=r.map(e=>(s||{})[e]||{name:e,url:""}),u="",d=(t||"").toLocaleLowerCase().trim(),c=o.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==d?u=l:o&&o.length>3&&c!==d&&(u=o),u&&(u=(0,a.ZP)(u,496).replace(n," ").trim()),{description:u,annotationsWithLinks:i}},d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o,pinJoinVisualAnnotation:u,seoNoindexReason:d,shouldUseSimplifiedTitle:c=!1})=>s.has(d??"")?u?.[0]??" ":c?l(t,200)||u?.[0]||"":i({pinTitle:e,gridTitle:t,richSummaryDisplayName:r,richMetadataTitle:n,storyPinDataId:a,storyPinDataMetadataPinTitle:o})||u?.[0]||e,c=e=>`/pin/${e}/`,p=(e,t)=>{let r=`Pinterest video from ${t}: `.concat(e);return""===t?e:r},_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:c(e)},702763:function(e,t,r){r.d(t,{X:()=>n});let n="favorited"},849232:function(e,t,r){r.d(t,{kf:()=>h,l5:()=>g,of:()=>p,xC:()=>m,yz:()=>_});var n=r(667294),a=r(213491),s=r(504644),o=r(893957),l=r(986523),i=r(767415),u=r(785893);let{Provider:d,getMaybe:c}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[r,a]=(0,n.useState)(null),l=t||{pwaType:"unknown",twaType:null},c=l.pwaType;(0,o.Z)(()=>{let e=(0,s.FB)(window)||"unknown";a(e),c!==e&&(0,i.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&r?r:c,{twaType:_}=l,g=(0,n.useMemo)(()=>({pwaType:p,twaType:_}),[p,_]);return(0,u.jsx)(d,{value:g,children:e})},_=()=>{let e=c();return e?.pwaType??"unknown"},g=()=>{let e=c();return e?.twaType??null},m=()=>"android-twa"===_(),h=()=>{let e=_(),t=(0,l.Z)();return"unknown"===e&&t?null:"windows"===e}},415316:function(e,t,r){r.d(t,{o:()=>n,u:()=>a});let{Provider:n,getMaybe:a}=(0,r(213491).Z)("inviteContext")},640200:function(e,t,r){r.d(t,{Z:()=>n});function n(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},577356:function(e,t,r){r.d(t,{Zo:()=>n,dI:()=>a});let{Provider:n,get:a}=(0,r(213491).Z)("toastManagerContext")},787194:function(e,t,r){r.d(t,{M:()=>o,Q:()=>s});var n=r(667294);let a=(0,n.createContext)(null),s=()=>(0,n.use)(a),o=a},45762:function(e,t,r){r.d(t,{Z:()=>_});var n=r(4533),a=r(15881),s=r(505633),o=r(331506),l=r(34550),i=r(418282),u=r(935833);let d=new class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>e(t))}},c=new class{constructor(){this.rules={},this.init()}init(){for(let e of[{category:"dweb_max_free_pin_modal",validate:this.validateImageView.bind(this),action:"SHOW_LOGIN_MODAL"},{category:"dweb_save",validate:this.saveRule.bind(this),action:"SHOW_SAVE_MODAL"},{category:"dweb_scroll_banner_dismiss_rule",validate:this.scrollBanerDismissRule.bind(this),action:"BOTTOM_RIGHT_BANNER_DISMISS"},{category:"dweb_scroll_banner_limit_rule",validate:this.scrollBannerLimitRule.bind(this),action:"BOTTOM_RIGHT_BANNER_LIMIT"},{category:"dweb_scroll_banner_show",validate:this.scrollBannerShowRule.bind(this),action:"BOTTOM_RIGHT_BANNER_SHOW"}])this.addRule(e)}initExperiment(e){this.experiment=e}addRule(e){this.rules[e.category]=this.rules[e.category]??[],this.rules[e.category].push(e)}evaluate(e,t){if(!this.rules[e])return null;for(let r of this.rules[e])if(r.validate(t))return r.action;return null}validateImageView(e){let{clickCount:t}=e,{hasSeenLoginModal:r}=e,{hasDismissedLoginModal:n}=e,a=this.experiment?.group==="enabled_relaxation";return a?t+1>=4&&!r&&!n:t+1>=4&&!r}saveRule(e){return"desktop"===e.deviceType}scrollBanerDismissRule(e){return e.scrollTop<64}scrollBannerLimitRule(e){return e.scrollTop<4e3}scrollBannerShowRule(e){let t=this.experiment?.group==="enabled_relaxation";return t?e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3&&!e.hasDismissedLoginModal:e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3}};var p=r(925201);let _=new class{constructor(){this.init()}init(){d.on("pinView",this.handlePinView.bind(this)),d.on("pinSave",this.handleSavePin.bind(this)),d.on("showDesktopSignupModal",this.showDesktopSignupModal.bind(this)),d.on("hideDesktopSignupModal",this.hideDesktopSignupModal.bind(this)),d.on("onScrollHybridBanner",this.onScrollHybridBanner.bind(this))}initExperiment(e){this.experiment=e("dweb_upsell_manager_mvp_2"),this.experiment&&c.initExperiment(this.experiment)}emitEvent(e,t){d.emit(e,t)}handlePinView(e){let{history:t,linkTarget:r}=e,d=(0,l.M0)().getItem(n.cu)??0;(0,l.M0)().setItem(n.cu,d+1);let _=(0,i.Nl)().getItem(a.J7);if("SHOW_LOGIN_MODAL"===c.evaluate("dweb_max_free_pin_modal",{clickCount:d,hasSeenLoginModal:_})){let{onUpsellTriggerCallback:n}=e;n(),(0,u.My)("dweb.navigational.upsell.show"),(0,i.Nl)().setItem(a.J7,"true");let l={pinId:e.pinId,seoUrl:e.seoUrl},d=(0,p.Z)((0,o.bN)(l),{mt:"login"});if("fullPageLoad"===r)(0,s.Z)(d,!1);else if("duploClientNav"===r)t.push(d);else{let e=window.open(d,"_blank");e?.focus()}}}handleSavePin(e){if("SHOW_SAVE_MODAL"===c.evaluate("dweb_save",{deviceType:e.deviceType})){let{pinId:t,attributionLabel:r,modalHeadingType:n,showSignupModal:a}=e;a({attributionLabel:"extended_save_out_of_quota"===n?"click_save_button_with_max_unauth_saves":r||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:n},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:t})}}showDesktopSignupModal(e){let{displayProps:t,viewType:r,viewParameter:n,trackInteraction:a,trackConversionUpsellForContext:s,logDesktopSignupModalEvent:o,dispatchSignupModalAction:l}=e;l({type:"show",displayProps:t});let{attributionLabel:i,signupFlow:u,reason:d}=t;a({action:"trigger",item:u.type.includes("signup")?"signup-modal":"login-modal"}),s({viewType:r,viewParameter:n,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[d]||13322,component:"login"===u.type?14212:14214,upsellReason:i}),o("dispatch_show",{attributionLabel:i,modalType:u.type,reason:d})}hideDesktopSignupModal(e){let{shouldDoSideEffects:t,loginForMore:r,dispatchSignupModalAction:n,logDesktopSignupModalEvent:a}=e,s=e.isEligibilityLoginForMore;t&&r&&s&&r.setVisible(!1),n({type:"dismiss"}),a("dispatch_dismiss",{shouldDoSideEffects:t})}onScrollHybridBanner(e){let{evt:t,isSafari:r,trackConversionUpsell:n,UnauthHybridBannerClassComponent:s,isInOpenModalExperience:o}=e,l=0,u=t&&t.target instanceof Document?t.target:null;if(u&&u.documentElement&&u.documentElement.scrollTop>0?l=u.documentElement.scrollTop:u&&u.body&&u.body.scrollTop>0&&(l=u.body.scrollTop),"BOTTOM_RIGHT_BANNER_DISMISS"===c.evaluate("dweb_scroll_banner_dismiss_rule",{scrollTop:l}))s.state.shouldShowBanner&&!s.state.bannerDismissed&&(n({element:13893,eventType:10243}),s.state.bannerDismissed=!0),s.setShouldShowBanner(!1);else if("BOTTOM_RIGHT_BANNER_LIMIT"===c.evaluate("dweb_scroll_banner_limit_rule",{scrollTop:l})){let e=s.state.shouldShowBanner;s.setState(e=>({shouldShowBanner:"BOTTOM_RIGHT_BANNER_SHOW"===c.evaluate("dweb_scroll_banner_show",{isInOpenModalExperience:o,isSafari:r,state:e}),scrollSessionCount:Math.ceil(l/800)}),()=>{e||!s.state.shouldShowBanner||s.state.bannerViewed||(n({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),s.state.bannerViewed=!0)})}else!(0,i.Nl)().getItem(a.J7)&&!o&&r&&t&&t.preventDefault()}}},145626:function(e,t,r){r.d(t,{AO:()=>g,Ag:()=>s,C0:()=>i,L1:()=>p,Vi:()=>o,Wm:()=>m,YD:()=>c,kS:()=>a,oo:()=>l,p3:()=>_,vC:()=>u,vI:()=>d});var n=r(721703);let a="https://www.pinterest.com/business/hub/",s="https://www.pinterest.com/homefeed/",o="www.pinterest.com",l="https://www.pinterest.com/_/_/help",i=`${(0,n.Z)({site:"www"})}`,u=(0,n.Z)({site:"developers"}),d=`${(0,n.Z)({site:"sterling"})}`,c=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"trends"})}`,_=`${(0,n.Z)({site:"www",path:"/business/catalogs/?advertiserId="})}`,g=`${(0,n.Z)({site:"business"})}`,m="https://www.pinterest.com/_/_/policy"},17658:function(e,t,r){r.d(t,{Z:()=>a});var n=r(667294);function a(e,t){let r=(0,n.useRef)([]),[a,s]=(0,n.useState)(),[o,l]=(0,n.useReducer)(a??(()=>t),t),i=(0,n.useCallback)(t=>{a?l(t):(r.current.length||e().then(e=>{s(()=>e.default)}),r.current=[...r.current,t])},[e,a]);return(0,n.useEffect)(()=>{a&&(r.current.forEach(l),r.current=[])},[a]),[o,i]}},293646:function(e,t,r){r.d(t,{Z:()=>l});var n=r(667294);let a=new Map,s=null,o=e=>{e.forEach(e=>{let t=a.get(e.target);t&&t(e)})};function l({onVisibilityChanged:e,trackFullVisible:t,rootMargin:r}){let l=(0,n.useRef)(null),i=!1,u=()=>{let t;l.current instanceof HTMLElement&&(t=l.current,a.has(t))&&i&&(e(!1),i=!1)},d=(0,n.useCallback)(r=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",r)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(o,n),a.set(e,r),s.observe(e)})(l.current,r,r=>{if(!a.has(l.current))return;let n=t?r.intersectionRatio>=1:r.intersectionRatio>=.5,s=t?0===r.intersectionRatio:!n;!i&&n?(i=r.intersectionRatio>0||r.isIntersecting)&&e(!0):i&&s&&u()})},[l.current]);return(0,n.useEffect)(()=>(d(r),()=>{if(l.current instanceof HTMLElement){var e;u(),e=l.current,s.unobserve(e),a.delete(e)}}),[d]),l}},209179:function(e,t,r){r.d(t,{Z:()=>a});let n=/^(?:https?:\/\/)?([^\s\/?#."]+\.)+([^\s\/?#."]+)(\/[^\s?#]*)?(#[^\s]*)?(\?[^"]*)?$/;function a(e,t){return!!e&&n.test(e)&&(e.startsWith("http://")||e.startsWith("https://")||!!t?.protocolIsOptional)}},496883:function(e,t,r){r.d(t,{Bh:()=>g,C9:()=>A,CU:()=>u,ES:()=>C,FU:()=>k,GT:()=>d,Gy:()=>b,J_:()=>M,Jx:()=>f,Ks:()=>D,MZ:()=>v,Pg:()=>y,U2:()=>N,VC:()=>h,VG:()=>c,ZA:()=>p,Zt:()=>E,a3:()=>I,aH:()=>i,fS:()=>_,nw:()=>w,oR:()=>S,qA:()=>m,qp:()=>O,sG:()=>T,vd:()=>R,xk:()=>P});var n=r(538985),a=r(99737),s=r(209179);let o={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},l=e=>{let t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},r=String(e).split("");return r.forEach((e,n)=>{let a=t[e];a&&(r[n]=a)}),r.join("")};function i(e){return(t,r)=>{let n=[];t&&/\S/.test(t)||n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}let u=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function d(e){return(t,r)=>{t=t&&t.trim();let n=[];t.match(u)||n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function c(e){return(t,r)=>{t=t&&t.trim();let n=[];t.match(/^[^0-9].*$/)||n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function p(e){return(t,r)=>{let n=[];if(t){let r=parseInt(t,10);Number.isNaN(r)?n.push(e.invalidAgeString):(e.ageTooShortString&&r<10&&n.push(e.ageTooShortString),r<=0||r>120?n.push(e.invalidAgeString):e.checkUnderAgeWithString&&r<18&&n.push(e.checkUnderAgeWithString))}let a={errors:n,warnings:[]};return r&&r(a),a}}function _(e){return(t,r)=>{let n=[],[a,s]=t.split(" ");if(a)if(a.match(/^[0-9]+$/)){let t=parseInt(a,10);(Number.isNaN(t)||t>31||t>o[s])&&n.push(e.invaliddobDateString)}else n.push(e.invaliddobDateString);let l={errors:n,warnings:[]};return r&&r(l),l}}function g(e){return(t,r)=>{let n=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),a=[],s=!1!==e.checkLength&&n.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||s)&&a.push(e.message);let o={errors:a,warnings:[]};return r&&r(o),o}}function m(e){return(t,r)=>{let n=[];"number"==typeof t||"string"==typeof t&&(t=l(t=t&&t.trim()))&&!t.match(/^\d+$/)&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function h(e){return(t,r)=>{let n=[];"number"==typeof t||"string"==typeof t&&(t=l(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function f({message:e}){return(t,r)=>{let n=[];t&&!(0,s.Z)(t,{protocolIsOptional:!0})&&n.push(e);let a={errors:n,warnings:[]};return r&&r(a),a}}function y(e){return(t,r)=>{let n={errors:t&&!/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)?[e.message]:[],warnings:[]};return r&&r(n),n}}function E(e){return(t,r)=>{let n=[];if(t)try{let r=(0,a.Z)(t);r&&r.protocol&&("http"!==r.protocol||"localhost"===r.hostname)||n.push(e.message)}catch(t){n.push(e.message)}let s={errors:n,warnings:[]};return r&&r(s),s}}function b(e){return(t,r)=>{let n=e.should_trim||!1,a=[];n&&(t=t&&t.trim());let s=t.length;"min"in e&&e.min>0&&s<e.min?a.push(e.minErrorString):"max"in e&&e.max>0&&s>e.max&&a.push(e.maxErrorString);let o={errors:a,warnings:[]};return r&&r(o),o}}function v(e){return(t,r)=>{let n=!e.checkExclusion,{substrings:a}=e,s=[];(n&&!a.some(e=>t.includes(e))||!n&&a.some(e=>t.includes(e)))&&s.push(e.message);let o={errors:s,warnings:[]};return r&&r(o),o}}function T(e){return(t,r)=>{let n=e&&e.targetValue,a=[];t!==n&&a.push(e.message);let s={errors:a,warnings:[]};return r&&r(s),s}}function w(e){return(t,r)=>{let n=[];(t?parseFloat(t):0)<e.value&&n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function A(e){return(t,r)=>{let n=new Date(t),a=[];e.date instanceof Date&&n instanceof Date&&e.date<n&&a.push(e.message);let s={errors:a,warnings:[]};return r&&r(s),s}}function C(e){return(t,r)=>{let a=new Date(t),s=e.date instanceof Date&&a instanceof Date,o=[];(s&&e.date<a||!(0,n.M5)(t))&&o.push(e.message);let l={errors:o,warnings:[]};return r&&r(l),l}}function S(e){return(t,r)=>{let n=[];/^[\x20-\x7E]*$/.test(t)||n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function P(e){return(t,r)=>{let n=2;if(e.hasFractionalCents)n=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();n=t}let a=new RegExp(n?`^\\d*(\\.\\d{1,${n}})?$`:"^\\d*$"),s=[];t&&!t.match(a)&&(t=t&&t.trim(),s.push(e.message));let o={errors:s,warnings:[]};return r&&r(o),o}}function M(e){return(t,r)=>{t=t&&t.trim();let n=[],a=new Date(t);t&&!a.getTime()&&n.push(e.message);let s={errors:n,warnings:[]};return r&&r(s),s}}function O(e){return(t,r)=>{let n=t&&t.trim(),a=[];n&&!n.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&a.push(e.message);let s={errors:a,warnings:[]};return r&&r(s),s}}function R(e){return(t,r)=>{let n=[];e.pattern.test(t)||n.push(e.message);let a={errors:n,warnings:[]};return r&&r(a),a}}function k(e,t){return[].concat(...e.map(e=>e(t).errors))}async function D(e,t){return[].concat(...await Promise.all(e.map(async e=>{let r=e(t);return r instanceof Promise?(await r)(t).errors:r.errors})))}function I(e,t){let r="";return t.some(t=>{let n=t(e);return n.errors.length>0&&(r=n.errors[0],!0)}),r}async function N(e,t){let r="";for(let n of t){let t=n(e);if(t instanceof Promise){let n=(await t)(e);if(n.errors.length>0){r=n.errors[0];break}}else if(t.errors.length>0){r=t.errors[0];break}}return r}},264267:function(e,t,r){r.d(t,{pb:()=>E,nf:()=>b,lV:()=>v});var n=r(667294),a=r(581722),s=r(441143),o=r.n(s),l=r(27399),i=r(213491),u=r(681698),d=r(57887),c=r(360033),p=r(730056);let _={feature_map:Object.freeze({})},g=(e,t)=>{let r={...(0,p.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,c.ZP)(e,r)?e:r},m=(e,t)=>{if(e=e||_,"FETCH_COMPLETE"===t.type){let{payload:{resource:r,options:n={}}}=t,{data:a}=t.payload.response.resource_response;if("AggregatedCommentReplyFeedResource"===r||"ApiResource"===r&&n.url===`/v3/aggregated_comments/${n.data?.aggregated_comment}/replies/`||"ApiResource"===r&&n.url===`/v3/aggregated_pin_data/${n.data?.aggregated_pin_data}/comments/`||"DidItCommentsResource"===r){let t=(a||[]).reduce((t,r)=>(t[r.id]=g(e[r.id],r),t),{});return{...e,...t}}if("UnifiedCommentsResource"===r&&a&&a.length>0){let t=a.filter(e=>"aggregatedcomment"===e.type).reduce((t,r)=>(t[r.id]=g(e[r.id],r),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===r&&a&&a.length>0){let t=a.map(e=>e.aggregated_comment).reduce((t,r)=>(r&&(t[r.id]=g(e[r.id],r)),t),{}),r=a.map(e=>e.creator_reply).reduce((t,r)=>(r&&r.id&&(t[r.id]=g(e[r.id],r)),t),{});return{...e,...t,...r}}if("ApiResource"===r&&"/v3/aggregated_comments/features/"===n.url&&a&&Object.keys(a).length>0)return{...e,feature_map:a}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:r}}=t;return r.id?{...e,[r.id]:r}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:r}}=t,n={...e};return delete n[r],n}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:r}}=t;return Object.fromEntries(Object.entries(e??{}).filter(e=>e[1].user?.id!==r))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:r}}=t;return{...e,[r.id]:g(e?.[r.id],r)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:r}}=t,n=e?.[r.id],a=n?.reaction_counts[1]||0,s={1:r.reaction_by_me?a+1:a-1},o={...n,reaction_by_me:r.reaction_by_me,reaction_counts:s};return{...e,[r.id]:o}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:r}}=t,n=e?.[r.id],a=n?.helpful_count||0,s=r.marked_helpful_by_me?a+1:a-1,o={...n,marked_helpful_by_me:r.marked_helpful_by_me,helpful_count:s};return{...e,[r.id]:o}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:r}}=t,n={...e?.[r.aggregated_comment_id],highlighted_by_pin_owner:r.is_highlighted};return{...e,[r.aggregated_comment_id]:n}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:r}}}=t;return{...e,feature_map:{...e?.feature_map,...r}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:r,id:n}}=t,a=e?.[n];if(!a)return e;let s={...a,comment_count:a.comment_count+r};return{...e,[n]:s}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:r,tagged_users:n}}=t,a={...e?.[r],tagged_users:n};return{...e,[r]:a}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:r,translatedText:n}}=t,a={...e?.[r],translatedText:n};return{...e,[r]:a}}return e};var h=r(785893);let{Provider:f,get:y}=(0,i.Z)("AggregatedComments");function E({children:e}){let t=(0,a.v9)(({resources:e})=>e?.UnifiedCommentsResource),r=_;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),n=t?.reduce((e,t)=>(e[t.id]=g(r[t.id],t),e),{});r={...r,...n}});let[s,o]=(0,n.useReducer)(m,r),l=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,d.Z8)("AggregatedCommentReplyFeedResource",l),(0,d.my)("AggregatedCommentReplyFeedResource",l),(0,d.Z8)("ApiResource",l),(0,d.my)("ApiResource",l),(0,d.Z8)("DidItCommentsResource",l),(0,d.my)("DidItCommentsResource",l),(0,d.Z8)("UnifiedCommentsPreviewResource",l),(0,d.my)("UnifiedCommentsPreviewResource",l),(0,d.Z8)("UnifiedCommentsResource",l),(0,d.my)("UnifiedCommentsResource",l);let i=(0,n.useMemo)(()=>({aggregatedComments:s,dispatch:o}),[s,o]);return(0,h.jsx)(f,{value:i,children:e})}function b(){let{dispatch:e}=y();return(0,n.useMemo)(()=>({aggregatedCommentCreated(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:(t,r)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:r,detailedReasons:n})=>{let a=e?`/v3/aggregated_comments/${t}/flag/`:`/v3/did_it/${t}/flag/`;return(0,u.Z)({url:a,method:"PUT",data:{commentId:t,reason:r,detailedReasons:n}})},deleteCommentMention:async t=>{let{resource_response:r}=await (0,u.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),n=r.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:n.id,tagged_users:n.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:r}=await (0,u.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),n=r.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:n}})}catch(r){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:r,orbacSubjectId:n})=>{(0,u.Z)({url:`/v3/helpful/1/${t}/`,method:r?"DELETE":"POST",data:n?{orbac_subject_id:n}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:r,isHighlighted:n})=>{o()(t,"Could not find comment"),o()(r,"Could not find Pin"),await (0,u.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:r,highlight:!n}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:r,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:r,orbacSubjectId:n})=>{(0,u.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:r?"DELETE":"POST",data:{reaction_type:1,...n?{orbac_subject_id:n}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!r}}})},updateAggregatedComment:async({commentId:t,force:r,orbacSubjectId:n,tags:a,text:s})=>{let{resource_response:o}=await l.Z.create("AggregatedCommentResource",{commentId:t,force:r,tags:a,text:s,...n?{orbacSubjectId:n}:{}}).callUpdate({showError:!1}),{tagged_users:i}=o.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:i.map(e=>({...e})),tags:JSON.parse(a),text:s}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:r,passcode:n,userConfirmPasscode:a})=>{let{resource_response:s}=await (0,u.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:t,feature_map:JSON.stringify(r),passcode:n,user_confirm_skip_passcode:a??!1}});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:s.data??Object.freeze({})}}})},updateCommentCount:(t,r)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}}),[e])}function v(){let{aggregatedComments:e}=y();return e}},74972:function(e,t,r){r.d(t,{g:()=>p,G:()=>c});var n=r(667294),a=r(213491),s=r(970414),o=r(515511);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{},videoCarouselModuleAutoplaying:{}},viewportSize:"lg"},i=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:n,isPromoted:a,currentTime:s,surface:l}=r,{videosAutoplaying:i}=e,{currentlyPlayingOrganicVideoId:u,promotedVideosAutoplaying:d,organicVideosAutoplaying:c,videoCarouselModuleAutoplaying:p}=i,_=(0,o.Z)(d),g=(0,o.Z)(c),m=(0,o.Z)(p);return!a&&u&&"VideoCarouselModule"!==l?e:(a?_[n]={pinId:n,currentTime:s,paused:!1}:"VideoCarouselModule"===l?m[n]={pinId:n,currentTime:s,paused:!1}:g[n]={pinId:n,currentTime:s,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?u:n,promotedVideosAutoplaying:_,organicVideosAutoplaying:g,videoCarouselModuleAutoplaying:m}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:n,isPromoted:a,currentTime:s,surface:l}=r,{videosAutoplaying:i}=e,{promotedVideosAutoplaying:u,organicVideosAutoplaying:d,videoCarouselModuleAutoplaying:c}=i,p=(0,o.Z)(u),_=(0,o.Z)(d),g=(0,o.Z)(c);return a?p[n]={...p[n],paused:!0,currentTime:s}:"VideoCarouselModule"===l?g[n]={...g[n],paused:!0,currentTime:s}:_[n]={..._[n],paused:!0,currentTime:s},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:p,organicVideosAutoplaying:_,videoCarouselModuleAutoplaying:g}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var u=r(785893);let{Provider:d,get:c}=(0,a.Z)("AppUI");function p({children:e}){let[t,r]=(0,n.useReducer)(i,l),a=(0,n.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),o=(0,n.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,n.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),_=(0,n.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),g=(0,n.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,n.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),h=(0,n.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:_,setViewportSize:g,toggleTypeaheadOverlay:m,setAppFocusState:o,appUI:t}),[a,c,p,_,g,m,o,t]);return(0,n.useEffect)(()=>{s.Z.onSessionResume(()=>{o(!0)}).onSessionPause(()=>{o(!1)})},[o]),(0,u.jsx)(d,{value:h,children:e})}},841270:function(e,t,r){r.d(t,{KA:()=>s,T3:()=>a,Ur:()=>o,i5:()=>n,kx:()=>l});let n={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},a={...n,KR:14},s=16,o=13,l=5},609170:function(e,t,r){r.d(t,{C:()=>a});var n=r(501010);function a(){let{checkExperiment:e}=(0,n.Z)();switch(e("entrypoints_collage_wasm").group){case"prefetch_all":default:return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"}}}},746319:function(e,t,r){r.d(t,{Z:()=>s});var n=r(935059),a=r(501010);let s=()=>{let{checkExperiment:e}=(0,a.Z)(),t=(0,n.Z)(),r=t.isAuth&&!t.isPartner;return (t=!1)=>{if(!r)return{anyEnabled:!1,followupFeatureEnabled:!1};let n=e("web_collage_creation",{dangerouslySkipActivation:t}),{anyEnabled:a}=n;return{anyEnabled:a,followupFeatureEnabled:n.group.startsWith("employee")||"enabled_followup_feature"===n.group}}}},49254:function(e,t,r){r.d(t,{c:()=>a,t:()=>s});var n=r(380108);function a({children:e}){let{height:t}=(0,n.Z)();return e(t)}function s(){let{height:e}=(0,n.Z)();return e}},872003:function(e,t,r){r.d(t,{G:()=>p,Kl:()=>_,vo:()=>c});var n=r(667294),a=r(213491),s=r(57887),o=r(17658),l=r(785893);let i=()=>r.e("65333").then(r.bind(r,557189)),{Provider:u,get:d}=(0,a.Z)("NativeEngagements");function c({children:e}){let[t,r]=(0,o.Z)(i,[]);(0,s.Z8)("NativeInteractionsResource",e=>{r({type:"FETCH_COMPLETE",payload:e})}),(0,s.my)("NativeInteractionsResource",e=>{r({type:"FETCH_MORE_COMPLETE",payload:e})});let a=(0,n.useMemo)(()=>({dispatch:r,nativeEngagements:t}),[r,t]);return(0,l.jsx)(u,{value:a,children:e})}function p(){let{dispatch:e}=d();return(0,n.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function _(){let{nativeEngagements:e}=d();return e}},411657:function(e,t,r){r.d(t,{D:()=>n,u:()=>a});let{Provider:n,getMaybe:a}=(0,r(213491).Z)("unauthPageWrapperContext")},167021:function(e,t,r){r.d(t,{K:()=>o,T:()=>l});var n=r(667294),a=r(785893);let s=(0,n.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),o=()=>(0,n.use)(s);function l({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),o=(0,n.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>r({...t,[e]:n})}),[t]);return(0,a.jsx)(s,{value:o,children:e})}},874288:function(e,t,r){r.d(t,{Z:()=>a});var n=r(581722);let a=()=>(0,n.v9)(({session:{canUseNativeApp:e}})=>e)},307618:function(e,t,r){r.d(t,{$:()=>l,w:()=>i});var n=r(667294),a=r(213491),s=r(785893);let{Provider:o,getMaybe:l}=(0,a.Z)("CloseupPreviewContext");function i({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({setData:(e,t)=>r(r=>({...r,[e]:t})),getData:e=>t[e]}),[t]);return(0,s.jsx)(o,{value:a,children:e})}},40763:function(e,t,r){r.d(t,{Z:()=>o});var n=r(501010),a=r(774838),s=r(739405);let o=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,n.Z)(),r=(0,s.HG)(),{isBot:o,isAuthenticated:l}=(0,a.B)();return!l&&!!r&&r&&!o&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},301527:function(e,t,r){r.d(t,{o:()=>l,p:()=>i});var n=r(667294),a=r(213491),s=r(785893);let{Provider:o,get:l}=(0,a.Z)("Session");function i({children:e}){let[t,r]=(0,n.useState)(void 0),a=(0,n.useCallback)(()=>r(void 0),[]),l=(0,n.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:r,removeUnauthCommentPinId:a}),[t,a]);return(0,s.jsx)(o,{value:l,children:e})}},201198:function(e,t,r){r.d(t,{Z:()=>u});var n=r(686659),a=r(667294),s=r(740097),o=r(785893);let l={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function i(){return(0,o.jsx)(s.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:l,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function u({disabled:e,form:t,fullWidth:r,name:l,onClick:u,size:d,submitting:c,text:p}){return(0,a.useEffect)(()=>{(0,n.Z)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,o.jsxs)(s.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[c&&(0,o.jsx)(i,{}),(0,o.jsx)(s.zx,{color:"red",disabled:e||c,form:t,fullWidth:r,name:l,onClick:u,size:d,text:p,type:"submit"})]})}},248481:function(e,t,r){r.d(t,{G3:()=>c,Rp:()=>d,kp:()=>u});var n=r(4533),a=r(15881),s=r(375181),o=r(34550),l=r(418282);let i=14*s.F4,u=(e,t)=>{let r=function(){let e=Date.now(),t=(0,o.M0)(),r=Number(t.getItem(n.Li)??null);return{currentTime:e,firstUpsellTime:Number(t.getItem(n.O7)??null),lastUpsellTime:r,showedAppUpsellCurrentSession:!!(0,l.Nl)().getItem(a.JO)}}();return e?function(e,t,r){let{currentTime:a,firstUpsellTime:s,lastUpsellTime:l,showedAppUpsellCurrentSession:u}=e;return(r=r||i,!s||a<s+t)?!u:a-l>r&&((0,o.M0)().removeItem(n.O7),!0)}(r,s.F4):function(e,t){let{currentTime:r,lastUpsellTime:n}=e;return t=t||i,!n||r-n>t}(r,t)},d=({isBot:e,platform:t,userAgent:r})=>{try{return!e&&"android"===t&&7>parseFloat((e=>{let t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(r))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},966039:function(e,t,r){r.d(t,{Es:()=>u,HW:()=>i,er:()=>c,rQ:()=>d});var n=r(4533),a=r(34550),s=r(767415);let o=e=>e>=Date.now()-72e5,l=(e,t)=>{let r=[];if(e)for(let n of e)(!t||n.is_shared)&&o(n.ts)&&r.push(n);return r},i=()=>{let e=(0,a.M0)().getItem(n.uc)??[],t=l(e,!1),r=l(e,!0),s=t.map(e=>e.first_pin_image_signature),i=r.map(e=>e.first_pin_image_signature),u=(e=>{let t={};if(e)for(let r of e)r.is_shared&&o(r.ts)&&r.pin_id&&(t[r.pin_id]={inviteCode:r.pin_invite_code});return t})(e);return{extraPlpImages:s,plpImageRenderData:t,extraBlpImages:l((0,a.M0)().getItem(n.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:i,sharedPinData:u}},u=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(e[r].id!==t[r].id)return!1;return!0},d=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),c=(e,t,r,n)=>{let a={};return e.forEach(e=>{let o=e.id,l=e.pins.length??0;a[o]=l,(0,s.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:r,age:n,use_case_display_name:e.display_name}}),(0,s.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",l,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:r,age:n,use_case_display_name:e.display_name}})}),a}},818906:function(e,t,r){r.d(t,{$:()=>c,Z:()=>_});var n=r(667294),a=r(581722),s=r(4533),o=r(15881),l=r(127078),i=r(784548),u=r(34550),d=r(418282);let c=2,p=e=>e.length?{pins:e}:null,_=()=>{let e,t=(0,u.M0)(),r=(0,a.I0)(),_=(0,l.hO)(),g=Array.isArray(_)&&_.length>0?_.map(e=>({id:e.id,imageUrl:e.imageUrl,nodeId:null})):(e=d.ZP.getItem(o.w3),e?.pins??[]),m=g.map(e=>e.id).join(","),h=(0,n.useMemo)(()=>g,[m]),f=e=>{t.accessAllowed?t.setItem(s.s1,p(e)):d.ZP.setItem(o.w3,p(e)),r((0,i.pv)(e.map(e=>({id:e.id,imageUrl:e.imageUrl,ts:Date.now()}))))},y=()=>h.length<c;return{pins:h,save:e=>{y()&&f(h.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>{f(h.filter(({id:t})=>t!==e))},isSaved:e=>h.some(({id:t})=>t===e),clear:()=>{f([])},canSaveMore:y}}},39722:function(e,t,r){r.d(t,{B:()=>u,m:()=>i});var n=r(667294),a=r(312048),s=r(213491),o=r(785893);let{Provider:l,getMaybe:i}=(0,s.Z)("NotifDetailRepinContext");function u({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),[s,i]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!1),c=(0,a.TH)(),p=(0,n.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,n=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{u&&r(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";n.test(t)||e.test(t)||(r(Object.freeze({})),i(!1),d(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=c.pathname||"";return n.test(e)&&s},inNewsHubQuickSaveExp:s,setInNotifDetailPage:d,setInNewsHubQuickSaveExp:i}},[t,s,u,c]);return(0,o.jsx)(l,{value:p,children:e})}},38359:function(e,t,r){r.d(t,{BT:()=>N,Du:()=>x,Fh:()=>R,HY:()=>G,HZ:()=>D,Jw:()=>y,Kp:()=>z,L7:()=>n,LT:()=>c,Lj:()=>L,Nw:()=>C,Q_:()=>A,Qc:()=>a,R5:()=>P,RA:()=>S,Tt:()=>O,UF:()=>u,UV:()=>o,VB:()=>b,W1:()=>s,Ws:()=>p,X5:()=>M,Yt:()=>I,ZW:()=>i,cK:()=>v,cy:()=>f,fA:()=>Z,gm:()=>E,h7:()=>w,k:()=>m,mE:()=>H,o4:()=>g,oL:()=>U,qf:()=>_,tr:()=>d,uD:()=>T,uO:()=>h,vF:()=>l,wJ:()=>k});let n=1,a=2,s="female",o="male",l="unspecified",i="en-US",u="US",d=3,c="Welcome",p="Gender",_="CountryLocale",g="InterestPicker",m="UseCase",h="PinPicker",f="LoadingStep",y="AppInstall",E="NUX_PIN_PICKER_STEP_STATUS",b="NUX_USE_CASE_STEP_STATUS",v={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:_,NUX_INTEREST_PICKER_STEP_NAME:g,NUX_USE_CASE_STEP_NAME:m,NUX_PIN_PICKER_STEP_NAME:h,NUX_LOADING_STEP_NAME:f,NUX_APP_INSTALL_STEP_NAME:y},T=2,w=3,A=6,C=112,S=160,P=60,M=1e3,O=2500,R=1900,k=2e3,D=3,I=1,N=3,G=3,x=5e3,U=250,Z=1e10,L=507641,H=300,z=200},179664:function(e,t,r){r.d(t,{W:()=>c,u:()=>d});var n=r(667294),a=r(213491),s=r(501010),o=r(38359);let l=(e,t)=>{let r=((e,t)=>{switch(t.type){case"SELECT_PIN":{let{pinData:r,pinId:n,useCaseId:a}=t.payload;return function({pinData:e,pinId:t,state:r,useCaseId:n}){let a=new Map(r.selectedUseCases),s=a.get(n)||{selectedPins:[],heroPin:null,backfillPins:[]},o={...e,pinId:t,selectedAt:Date.now()};return a.set(n,{...s,selectedPins:[...s.selectedPins,o]}),{...r,selectedUseCases:a}}({pinData:r,pinId:n,state:e,useCaseId:a})}case"DESELECT_PIN":{let{pinId:r,useCaseId:n}=t.payload;return function({pinId:e,state:t,useCaseId:r}){let n=new Map(t.selectedUseCases),a=n.get(r);return a&&n.set(r,{...a,selectedPins:a.selectedPins.filter(t=>t.pinId!==e)}),{...t,selectedUseCases:n}}({pinId:r,state:e,useCaseId:n})}case"SELECT_USE_CASE":{let{heroPin:r,useCaseId:n}=t.payload;return function({heroPin:e,state:t,useCaseId:r}){let n=new Map(t.selectedUseCases);return n.set(r,{selectedPins:[],heroPin:e,backfillPins:[]}),{...t,selectedUseCases:n}}({heroPin:r,state:e,useCaseId:n})}case"DESELECT_USE_CASE":{let{useCaseId:r}=t.payload;return function({state:e,useCaseId:t}){let r=new Map(e.selectedUseCases);return r.delete(t),{...e,selectedUseCases:r}}({state:e,useCaseId:r})}case"ADD_BACKFILL_PINS":{let{backfillPins:r,useCaseId:n}=t.payload;return function({backfillPins:e,state:t,useCaseId:r}){let n=new Map(t.selectedUseCases),a=n.get(r);return a&&n.set(r,{...a,backfillPins:[...e]}),{...t,selectedUseCases:n}}({backfillPins:r,state:e,useCaseId:n})}default:return e}})(e,t);return{...r,history:[...r.history||[],t]}};var i=r(785893);let{Provider:u,get:d}=(0,a.Z)("Nux");function c({children:e}){let[t,r]=(0,n.useState)([]),[a,d]=(0,n.useState)({}),[c,p]=(0,n.useState)(!1),{checkExperiment:_}=(0,s.Z)(),g=_("ap_dweb_nux_revamp_auto_pin_select",{dangerouslySkipActivation:!0}).anyEnabled,m={selectedUseCases:new Map,history:[]},[h,f]=(0,n.useReducer)(l,m),y=(0,n.useCallback)(()=>Array.from(h.selectedUseCases.values()).reduce((e,t)=>e+t.selectedPins.length,0),[h.selectedUseCases]),E=(0,n.useCallback)(e=>Array.from(h.selectedUseCases.entries()).reduce((t,[r,n])=>e&&r===e?t:t.concat(n.selectedPins),[]),[h.selectedUseCases]),b=(0,n.useCallback)(e=>E(e).map(e=>({url:e.imageMediumUrl,height:e.height,width:e.width})),[E]),v=(0,n.useCallback)(()=>{let e=[];for(let[t,r]of h.selectedUseCases){let n=r.selectedPins.map(e=>({1:e.pinId,2:"pin"}));e.push({1:t,2:n})}return e},[h.selectedUseCases]),T=(0,n.useCallback)(()=>h.selectedUseCases&&y()>=o.HZ,[y,h.selectedUseCases]),w=(0,n.useCallback)(()=>g?h.selectedUseCases.size>=o.BT:h.selectedUseCases.size>=o.Yt,[h.selectedUseCases,g]),A=(0,n.useMemo)(()=>({checkHasMetMinimumPinSelectionRequirement:T,checkHasMetMinimumUseCaseSelectionRequirement:w,getNuxSignals:v,getNumSelectedPins:y,getSelectedPinImageData:b,nuxSelectionsDispatch:f,nuxSelectionsState:h,selectedPins:a,selectedUseCases:t,setSelectedPins:d,setSelectedUseCases:r,setShouldUseNewReducerState:p,shouldUseNewReducerState:c}),[T,w,v,y,b,f,h,a,t,d,r,p,c]);return(0,i.jsx)(u,{value:A,children:e})}},513504:function(e,t,r){r.d(t,{H5:()=>i,Nq:()=>l,Q_:()=>u,bJ:()=>d});var n=r(27399),a=r(236269),s=r(554092),o=r(38359);function l(e){let{updateUserData:t}=e,r={},l=null;if(t.gender&&[o.W1,o.UV].includes(t.gender)?r.gender=t.gender:t.custom_gender&&(r.custom_gender=t.custom_gender,r.customGender=t.custom_gender,r.gender=o.vF),t.age?r.age=t.age:t.birthdate&&(r.birthdate=t.birthdate),t.locale&&(r.locale=t.locale),t.country&&(r.country=t.country),t.business_vertical&&(r.businessVertical=t.business_vertical),t.business_vertical_other&&(r.businessVerticalOther=t.business_vertical_other),t.number_employees&&(r.numberEmployees=t.number_employees),t.first_name&&(r.firstName=t.first_name),t.last_name&&(r.lastName=t.last_name),t.full_name&&(r.fullName=t.full_name),t.parent_email&&(r.parentEmail=t.parent_email),t.website_url&&(r.websiteUrl=t.website_url),t.listed_website_url&&(r.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(r.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(r.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:r,business_name:n,business_goals:a,enable_profile_message:s,enable_profile_address:o,selected_ecommerce_platforms:i}=t;l={...r?{advertising_intent:r}:{},...e?{account_type:e}:{},...n?{business_name:n}:{},...a?{business_goals:a}:{},...s?{enable_profile_message:s}:{},...o?{enable_profile_address:o}:{},...i?{selected_ecommerce_platforms:i}:{}}}l&&(r.partner=l,l.business_name&&(r.firstName=l.business_name));let i=n.Z.create("UserSettingsResource",{...t,surface_tag:s.i.NUX}).callUpdate();return async function(e){try{let t=await i;return e({type:"UPDATE_USER_SET",payload:r}),t}catch(e){return Promise.reject(Error((0,a.Z)(e,"message")))}}}function i(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function u(e,t){return()=>{n.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function d(e,t=""){return()=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}},500912:function(e,t,r){r.d(t,{Q:()=>i,n:()=>l});var n=r(667294),a=r(213491),s=r(785893);let{Provider:o,getMaybe:l}=(0,a.Z)("RepinContext");function i({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>r(r=>({...r,[e]:t})),unsave:e=>r(t=>({...t,[e]:null}))}),[t]);return(0,s.jsx)(o,{value:a,children:e})}},636953:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294),a=r(767415);function s(e){let t=(0,n.useRef)({kind:"NotOver"}),r=(0,n.useCallback)(()=>{"NotOver"===t.current.kind&&(t.current={kind:"OverButNotClicked",mousedOverAt:Date.now()})},[]),s=(0,n.useCallback)(()=>{"OverButNotClicked"===t.current.kind&&((0,a.LY)("entrypointRouter.timeOnLinkUntilMouseOut",Date.now()-t.current.mousedOverAt,{sampleRate:.1,tags:{key:e}}),(0,a.nP)("entrypointRouter.mouseOverResult",{sampleRate:.1,tags:{key:e,outcome:"MouseOut"}})),t.current={kind:"NotOver"}},[e]);return{onClick:(0,n.useCallback)(()=>{"OverButNotClicked"===t.current.kind&&((0,a.LY)("entrypointRouter.timeOnLinkUntilClick",Date.now()-t.current.mousedOverAt,{sampleRate:.1,tags:{key:e}}),(0,a.nP)("entrypointRouter.mouseOverResult",{sampleRate:.1,tags:{key:e,outcome:"Click"}}),t.current={kind:"OverAndHasClicked"})},[e]),onMouseEnter:r,onMouseLeave:s}}},721750:function(e,t,r){(0,r(701943).kr)()},758594:function(e,t,r){function n({children:e,metricName:t}){let r=void 0;return r&&r.serverRenderTimings&&!r.serverRenderTimings[t]&&(r.serverRenderTimings[t]=Date.now()),e}r.d(t,{Z:()=>n}),r(701943),r(721750)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/58179-c433411cadc4d037.mjs.map