(self.modernJsonp=self.modernJsonp||[]).push([["72908"],{492774:function(e,t,n){var r,l,a,i;n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},r,i,l,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let s=o},786897:function(e,t,n){var r,l,a,i;n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:l=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:i=[a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:i,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},a,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};o.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=o},249097:function(e,t,n){n.r(t),n.d(t,{default:()=>l});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let l=r},962487:function(e,t,n){var r,l;n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="3b4d688af34026529030d4bfec423bd6";let i=a},97812:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};l.hash="756d8d8edca35eac0a0500359bf60618";let a=l},33653:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};l.hash="3d7a6d04f923d00acfb2887f852aea16";let a=l},271255:function(e,t,n){n.d(t,{Z:()=>o});var r=n(686659),l=n(667294),a=n(740097),i=n(785893);let o=({text:e})=>((0,l.useEffect)(()=>{(0,r.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,i.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}))},433100:function(e,t,n){n.d(t,{f:()=>w,l:()=>v});var r=n(667294),l=n(178226),a=n(735243),i=n(477738),o=n(148),s=n(252974),c=n(250182),d=n(655068),u=n(531624),m=n(515511),p=n(213491),g=n(360033),h=n(986475),f=n(640200),y=n(785893);let _=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let l=(0,h.Z)(f.Z,!0)(r),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[a]?e[a]=l:e.push(l)},x=(e,t,n,r)=>{let l=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(l?.action?.filter){let e=l.action.filter.filterOptions;l.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:b,get:v}=(0,p.Z)("OneBarProductFilters");function w({children:e}){let[t,n]=(0,r.useState)([]),[p,h]=(0,r.useState)(null),f=function(){let{scope:e}=(0,o.n)();return[i.lw.BOARDS,i.lw.PINS_BUYABLE,i.lw.PINS_VIDEO,i.lw.USERS].includes(e)}(),v=(0,u.Z)(),w=(0,c.Z)(),S=(0,l.Z)(),k=(0,a.Z)(),I=(0,d.Z)(),C=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let l=e?.filter(({module_type:e})=>17===e||0===e);if(!l||l?.length===0||!r)return;let a=r!==p,i=a?[]:t;(a||!f)&&_(i,l,4),(a||!v)&&_(i,l,1),(a||!w)&&_(i,l,0),(a||!S)&&_(i,l,3),(a||!k)&&_(i,l,6),(a||!I)&&[7,8,9].forEach(e=>{_(i,l,e)}),(0,g.ZP)(i,t)||(n(i),h(r))},[t,S,k,f,w,I,v,p]),T=(0,s.Z)(),{priceMax:E,priceMin:j,scope:F,brands:Z,onSale:P,colors:M,domains:A}=(0,o.n)();(0,r.useEffect)(()=>{if(!T||0===t.length)return;let e=(0,m.Z)(t);if(F!==i.lw.PINS){let t=(0,i.gi)(F),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof E||"string"==typeof j){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(j)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(E)}:null].filter(Boolean))}x(new Set([3]),Z,"stringValue",e),x(new Set([6]),M,"stringValue",e),x(new Set([0]),A,"stringValue",e),x(new Set([7,8,9]),P,"numericValue",e),(0,g.ZP)(e,t)||n(e)},[t,T,E,j,F,Z,M,A,P]);let O=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:C}),[t,C]);return(0,y.jsx)(b,{value:O,children:e})}},704955:function(e,t,n){n.d(t,{Z:()=>i});var r=n(312048),l=n(954928),a=n(629724);function i(){let e=(0,r.TH)(),t=(0,r.s0)();return function(n){let r=(0,a.Z)();r.filter_location=n,t((0,l.Z)(e.pathname,r),{replace:!0})}}},332947:function(e,t,n){n.d(t,{Z:()=>m,q:()=>u});var r=n(312048),l=n(935059),a=n(501010),i=n(405897),o=n(477738),s=n(954928),c=n(629724),d=n(305375);let u=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function m(){let e=(0,r.s0)(),t=(0,r.TH)(),{checkExperiment:n}=(0,a.Z)(),{scope:m}=(0,d.Z)(),p=(0,l.Z)(),{isAuth:g}=p,h=g?p.country:"";return function(r){let l=(0,c.Z)();l.rs=i.i.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?l[e]=t:delete l[e]}),("US"===h||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&m!==o.lw.PINS&&!u.some(e=>"commerce_only"!==e&&e in l)&&delete l.commerce_only,e((0,s.Z)(t.pathname,l))}}},178226:function(e,t,n){n.d(t,{Z:()=>a});var r=n(312048),l=n(575820);function a(){return!!(0,l.mB)((0,r.TH)().search).brands}},735243:function(e,t,n){n.d(t,{Z:()=>i});var r=n(312048),l=n(501010),a=n(575820);function i(){let{checkExperiment:e}=(0,l.Z)(),t=(0,r.TH)(),{colors:n}=(0,a.mB)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,n){n.d(t,{Z:()=>l});var r=n(501010);function l(){let{checkExperiment:e}=(0,r.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,n){n.d(t,{Z:()=>a});var r=n(312048),l=n(575820);function a(){return!!(0,l.mB)((0,r.TH)().search).domains}},531624:function(e,t,n){n.d(t,{Z:()=>a});var r=n(312048),l=n(575820);function a(){let e=(0,r.TH)(),{price_max:t,price_min:n}=(0,l.mB)(e.search);return!!(n??t)}},879405:function(e,t,n){n.d(t,{Z:()=>d});var r=n(686659),l=n(667294),a=n(740097),i=n(788730),o=n(24246),s=n(113759),c=n(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:n,headerHeight:d,headerPaddingRight:u,headerPreview:m,heading:p,onClick:g,showArrow:h,surface:f}){(0,l.useEffect)(()=>{(0,r.Z)("CollapsableHeader","/app/common/react/components/closeup/CloseupBody/CollapsableHeader.tsx")},[]);let y=(0,o.Z)(),{closeupWithinMasonryEnabled:_,peekCloseupEnabled:x,viewportSize:b}=(0,s.x4)(),v=(0,i.rt)({peekCloseupEnabled:x,viewportSize:b,surface:f});return(0,c.jsx)(l.Fragment,{children:n||null!==t?(0,c.jsx)(a.iP,{disabled:!h,onTap:g,children:(0,c.jsx)(a.xu,{marginBottom:!e&&x?4:void 0,children:(0,c.jsxs)(a.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,c.jsx)(a.qd,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"300",children:p}),(0,c.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:u}},direction:"row",display:"flex",children:[e&&m,(h||_)&&(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:e?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:+!!h,children:(0,c.jsx)(a.hU,{accessibilityLabel:y._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),dataTestId:"collapse-button",disabled:!h,icon:"arrow-down",size:"sm"})})]})]})})}):(()=>{let e=(0,c.jsx)(a.qd,{accessibilityLevel:2,align:"start",id:"comments-heading",size:v?"300":"400",children:p});return v?(0,c.jsx)(a.xu,{marginBottom:4,children:e}):e})()})}},126621:function(e,t,n){n.d(t,{Z:()=>r});let r=175},221175:function(e,t,n){n.d(t,{AL:()=>p,CT:()=>m,FA:()=>x,Kw:()=>w,MS:()=>c,O3:()=>C,OI:()=>i,Rk:()=>T,SP:()=>l,Wm:()=>r,Y4:()=>k,Zn:()=>u,at:()=>b,dH:()=>g,e4:()=>d,eX:()=>v,eq:()=>_,iC:()=>o,jf:()=>f,m6:()=>h,pg:()=>j,ps:()=>I,tT:()=>s,xZ:()=>a,xh:()=>y,yG:()=>E,yz:()=>S,z3:()=>F});let r=446,l=16,a=48,i={x:0,y:0,w:0,h:0},o=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,s="anchor",c=2,d=20,u=14,m=16,p=10,g=8,h=1,f=.75,y=4,_=3,x={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},b="cropper-background",v="cropper-cropbox",w=32,S=20,k=10,I=1,C=0,T=120,E=2,j=.2,F=.25},349937:function(e,t,n){n.d(t,{Z:()=>w});var r,l,a=n(686659),i=n(667294);n(167912);var o=n(740097),s=n(230201),c=n(150147),d=n(183e3),u=n(806513),m=n(222451),p=n(65381),g=n(199031),h=n(203197),f=n(191024),y=n(739405),_=n(902123),x=n(785893);let b=(void 0!==r||(r=n(249097)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),v=(void 0!==l||(l=n(962487)).hash&&"3b4d688af34026529030d4bfec423bd6"!==l.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function w({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:r,disableHeader:l,getProductTagAuxData:w,headerDisplayOptions:S,heading:k,itemRepSiblingNodeFactories:I,items:C,itemWidth:T,itemWidthHeightRatio:E,parentPinKey:j,renderItem:F,saveButtonOptions:Z,showBorder:P,showMarkers:M=!1,showNavigationButtons:A=!0,storyKey:O,subtitle:z,surface:B,view:K=3,viewParameter:L,width:R}){(0,i.useEffect)(()=>{(0,a.Z)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:H}=(0,s.u)(),D=(0,y.ZP)(),$=(0,y.ds)(D),N=(0,d.Z)(b,j),U=(0,d.Z)(v,O),W=U?.objects?[...U.objects]:[],Y=W.map(e=>"Pin"===e.__typename?e.entityId:null),V=(0,i.useMemo)(()=>{let e=U?.storyType?{story_type:U.storyType}:void 0;return e&&t?{...t,...e}:e??t},[U?.storyType,t]),G=$?u.yF:u.tG,q=T??G,X=U.displayOptions?.contentDisplay?.itemWidthHeightRatio??E??1,{web:J,mobile:Q}=U.displayOptions?.contentDisplay?.contentVisibleItemCount??{},ee=r??($?J:Q),et=!l&&(U?.storyTitle||k||z),{showModuleBorder:en,showExtraSmallSubtitle:er,headerMarginBottom:el,isFixedWidthSlides:ea,moduleBorderStyle:ei}=(0,h.Z)({storyKey:U,styleOverrides:{showModuleBorder:P}}),eo=!ea&&!!ee&&!T,es=eo?"100%":q,ec=(0,i.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(Y?.[e]);H({aux_data:V,event_type:108,component:n,view_type:K,view_parameter:L,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[V,n,Y,H,K,L]),ed=(0,i.useCallback)(({item:e,index:t})=>{let r=()=>{let r;if(F)return F({item:e,index:t});if(t===W.length-1&&U.action?.text&&U.action?.url&&(r=U.action,r?.text&&r?.url&&g.Lf.has(r?.location))){let t="Pin"===e.__typename&&e.imageSpec_236x?.url;return t&&(0,x.jsx)(m.Z,{auxData:V,buttonText:U.action?.text,component:n,contentIds:U.contentIds??void 0,element:179,imageWidth:es,previewImageSrc:t,storyId:U.storyId??"",storyType:U.storyType,url:U.action.url,view:K,viewParameter:L})}let l="Pin"===e.__typename?w?.(e):void 0;return(0,x.jsx)(p.Z,{auxData:{...l,...V},boardKey:null,component:n,imageWidth:es,isInDesktopCarousel:$,isInMobileCarousel:!$,item:null,itemWidthHeightRatio:X,parentPinKey:N,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:N?.entityId,relatedInterestKey:null,saveButtonOptions:Z,slotIndex:t,storyKey:U,surface:B,view:K,viewParameter:L})},l=I?.[t];if(l){let e=r();return(0,x.jsx)(_.q,{children:t=>(0,x.jsx)(o.xu,{position:"relative",children:(0,x.jsxs)(i.Fragment,{children:[e,l(t)]})})})}return r()},[W.length,n,w,$,I,es,X,V,N,F,Z,U,B,K,L]);return(0,x.jsxs)(o.xu,{borderStyle:en?ei:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${q}px`,"--story-item-width-height-ratio":`${1/X}`,...eo&&{"--carousel-item-count":`${ee}`}}},direction:"column",display:"flex",rounding:en?4:void 0,width:R??"100%",children:[et&&(0,x.jsx)(o.xu,{marginStart:6,marginTop:4,children:(0,x.jsx)(f.Z,{auxData:V,headerDisplayOptions:S,marginBottomOverride:el,showExtraSmallSubtitle:er,storyKey:U,view:K,viewParameter:L})}),(0,x.jsx)(o.xu,{position:"relative",children:(0,x.jsx)(c.Z,{accessibilityLabelledBy:e,items:C??W,mode:"multi",onIndexChange:ec,renderItem:ed,showNavigationButtons:A,showScrollMarkers:M})})]})}},28031:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294);function l(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function i(){return window.innerHeight}function o(){return null}function s(){let e=(0,r.useSyncExternalStore)(l,i,o),t=(0,r.useSyncExternalStore)(l,a,o);return null!==e&&null!==t?{height:e,width:t}:null}},400850:function(e,t,n){n.d(t,{A5:()=>a,ZP:()=>i,kH:()=>r});let r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},l=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};case r.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case r.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function a(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function i(e,t,n,r=!0,o){let s=l(n);return r?s.timeZone="UTC":o&&(s.timeZone=o),a()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},150147:function(e,t,n){n.d(t,{Z:()=>C});var r=n(686659),l=n(667294),a=n(763387),i=n.n(a),o=n(740097);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function c(e,t,n){return n<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/n)*n),s(t,n))}var d=n(24246),u=n(785893);let m="12px";function p({containerRef:e,carouselClassName:t,currentIndex:n=0,itemCount:a,itemsPerPage:i,onIndexChange:p,showNavigationArrows:g=!1}){(0,l.useEffect)(()=>{(0,r.Z)("CarouselOverlay","/app/packages/gestaltExtensions/Carousel/CarouselOverlay.tsx")},[]);let h=(0,l.useRef)(null),f=(0,d.Z)(),[y,_]=(0,l.useState)(void 0);(0,l.useLayoutEffect)(()=>{let n,r=!1,l=()=>{if(r)return;let a=e.current?.querySelector(`.${t} li`),i=a?.querySelector('[data-test-id="pinrep-image"]');if(i){let{height:e}=i.getBoundingClientRect();if(e>0){_(e),r=!0;return}}n=setTimeout(l,100)};return l(),()=>{r=!0,n&&clearTimeout(n)}},[e,t]);let x=y?`calc(${y}px / 2 + 1rem - 18px)`:"50%",b=(0,l.useCallback)(()=>{if(i&&i>1){let e=Math.max(0,c(n,a,i)-i);p?.(e)}else{let e=Math.max(0,n-1);p?.(e)}},[n,a,i,p]),v=(0,l.useCallback)(()=>{if(i&&i>1){let e=c(n,a,i),t=Math.min(s(a,i),e+i);p?.(t)}else{let e=Math.min(a-1,n+1);p?.(e)}},[n,a,i,p]),{showPrevious:w,showNext:S}=(()=>{if(!g)return{showPrevious:!1,showNext:!1};if(i&&i>1){let e=c(n,a,i);return{showPrevious:e>0,showNext:e<s(a,i)}}return{showPrevious:n>0,showNext:n<a-1}})();return(0,u.jsxs)(o.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(10),children:[(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:m,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!w,position:"absolute",children:(0,u.jsx)(o.hU,{accessibilityLabel:f._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"white",dataTestId:"carousel-overlay-previous",icon:"arrow-back",onClick:b,size:"md"})}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{right:m,marginBlockStart:x,pointerEvents:"auto"}},opacity:+!!S,position:"absolute",children:(0,u.jsx)(o.hU,{accessibilityLabel:f._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"white",dataTestId:"carousel-overlay-next",icon:"arrow-forward",onClick:v,size:"md"})})]})}var g=n(440077);let h={bottom:0,boxShadow:"0 1px 0px rgba(0, 0, 0, 0.1)",left:0,position:"absolute",right:0};function f({index:e,isActive:t,mode:n,onClick:r,label:l}){let a="single"===n?g.Wmm:g.etl;return(0,u.jsx)(o.xu,{height:8,width:8,children:(0,u.jsx)(o.iP,{accessibilityLabel:l||`Navigate to slide ${e+1}`,onTap:()=>r(e),rounding:"circle",children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?a:g.zsO,transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function y({currentIndex:e,itemCount:t,itemLabels:n,itemsPerPage:a,mode:i,onNavigateToIndex:s}){(0,l.useEffect)(()=>{(0,r.Z)("FallbackScrollMarkers","/app/packages/gestaltExtensions/Carousel/FallbackScrollMarkers.tsx")},[]);let d=a?c(e,t,a):e,m=(0,l.useCallback)(e=>{s(e)},[s]),p=a?Math.ceil(t/a):t,g=a?a<=1?Math.max(0,Math.min(d,t-1)):Math.floor(c(d,t,a)/a):d;return p<=1?null:(0,u.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."single"===i&&h}},"data-test-id":"scroll-markers-fallback",display:"flex",justifyContent:"center",children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[...Array(p).keys()].map(e=>{let t=a?e*a:e;return(0,u.jsx)(f,{index:t,isActive:e===g,label:n?.[t],mode:i,onClick:m},e)})})})}var _=n(774838);let x=function({mode:e,showNavigationButtons:t=!1,showScrollMarkers:n=!1}){let{userAgent:{browserName:r,browserVersion:l}}=(0,_.B)(),a="Chrome"===r&&Number(l.split(".")[0])>=135&&("undefined"==typeof window||void 0===window.Cypress);return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:n}:a?{enableCssScrollButtons:t,enableCssScrollMarkers:n,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:t,enableFallbackScrollMarkers:n}};var b=n(893957),v=n(767415);let w=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: ${g.Wmm};
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);
  }


  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus → active → disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: ${g.KtD};
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: ${g.hWn};
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: ${g.ilB};
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,S=(e,t="multi",n=1)=>{let r="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    height: 8px;
    justify-content: center;
    margin-block-start: ${r?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${r?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${n}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${r?g.zsO:"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${r?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${n}n + 1)::scroll-marker:target-current {
    background: ${r?g.etl:g.Wmm};
  }
`};var k=n(59111),I=n(739405);function C({itemHeight:e,items:t,itemWidth:n,mode:a,onIndexChange:s,accessibilityLabelledBy:c,renderItem:d,selectedIndex:m,showNavigationButtons:g,showScrollMarkers:h}){(0,l.useEffect)(()=>{(0,r.Z)("CSSCarousel","/app/packages/gestaltExtensions/Carousel/CSSCarousel.tsx")},[]);let{enableCssScrollMarkers:f,enableCssScrollButtons:_,enableFallbackScrollMarkers:C,enableFallbackScrollButtons:T}=x({mode:a,showScrollMarkers:h,showNavigationButtons:g}),[E,j]=(0,l.useState)(0),F=(0,l.useRef)(null),Z=(0,l.useRef)(null),P=(e=>{let[t,n]=(0,l.useState)(1),r=(0,l.useRef)(null);return(0,b.Z)(()=>{let t=null;if(e.current){let l=()=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,r=t.querySelector("li");if(r){let t=r.offsetWidth;if(t>0&&e>0){let r=Math.max(1,Math.floor((e-32+8)/(t+8)));n(e=>e!==r?r:e)}}}})(),r.current=null})};l(),(t=new ResizeObserver(l)).observe(e.current)}return()=>{r.current&&cancelAnimationFrame(r.current),t&&t.disconnect()}}),t})(F),M=(0,o.JZ)(),{isInteractive:A,onKeyboardFocus:O,onKeyboardBlur:z,onMouseOver:B,onMouseOut:K}=function(){let[e,t]=(0,l.useState)(!1),[n,r]=(0,l.useState)(!1),a=(0,l.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]);return{keyboardFocused:e,hovered:n,isInteractive:e||n,onKeyboardFocus:a,onKeyboardBlur:(0,l.useCallback)(()=>{t(!1)},[]),onMouseOver:(0,l.useCallback)(()=>{r(!0)},[]),onMouseOut:(0,l.useCallback)(()=>{r(!1)},[])}}(),{setNavigationIntent:L}=function({scrollerRef:e,itemsLength:t,itemsPerPage:n,mode:r,focusedIndex:a,setFocusedIndex:i,onIndexChange:o}){let s=(0,l.useRef)([]),c=(0,l.useRef)(null),d=(0,l.useRef)(!0),u=(0,l.useRef)(null),m=(0,l.useRef)(-1),p=(0,l.useRef)(0),g=(0,l.useRef)(0),h=(0,l.useRef)(null),f=(0,l.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:n,scrollWidth:r,clientWidth:l}=e;return"rtl"!==t?n:n<0?-n:r-l-n},[]),y=(0,l.useCallback)(()=>{let t=e.current;if(!t||!s.current.length)return;let l=u.current,c=t.children.length;if(d.current||!l||l.scrollWidth!==t.scrollWidth||l.clientWidth!==t.clientWidth||l.childrenCount!==c||s.current.length!==c){let e=Array.from(t.children);s.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},d.current=!1}let y=f(t),_=t.scrollWidth-t.clientWidth,x=y+t.clientWidth/2,b=s.current,w=0,S=1/0;b.forEach((e,t)=>{let n=Math.abs(e-x);n<S&&(S=n,w=t)});let k=w;if("multi"===r&&n>1){let e=Math.floor(w/n)*n,t=Math.max(0,Math.floor((b.length-1)/n)*n),r=Math.min(e,t),l=p.current;if(l!==r){let e=r>l?1:-1,t=(b[l+(e>0?n-1:0)]+b[r+(e>0?0:Math.min(n-1,b.length-r-1))])/2+e*(x>b[b.length-1]-24||x<b[0]+24?6:24),a=y-g.current;(!(e>0?x>=t:x<=t)||e>0&&a<-.5||e<0&&a>.5)&&(r=l)}(y/_>.98||_-y<=8)&&(r=t),p.current=k=r}let I=performance.now(),C=h.current,T=C&&I-C.timestamp<500;k===a||T||(m.current!==k&&((0,v.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),m.current=k),i(k),o?.({currentIndex:a,nextIndex:k})),C&&(k===C.targetIndex||I-C.timestamp>500)&&(h.current=null),g.current=y},[a,n,r,o,e,i,f]),_=(0,l.useCallback)(()=>{let e=performance.now(),t=h.current;t&&e-t.timestamp<500||(c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{c.current=null,y()}))},[y]),x=(0,l.useCallback)(()=>{d.current=!0,_()},[_]);return(0,l.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let n=Array.from(t.children);s.current=n.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:n.length},d.current=!1;let r="undefined"!=typeof ResizeObserver?new ResizeObserver(x):null,l=new MutationObserver(x);return r&&r.observe(t),l.observe(t,{childList:!0}),t.addEventListener("scroll",_,{passive:!0}),window.addEventListener("resize",x),()=>{t.removeEventListener("scroll",_),window.removeEventListener("resize",x),l.disconnect(),r&&r.disconnect(),c.current&&(cancelAnimationFrame(c.current),c.current=null)}},[_,x,e]),(0,l.useLayoutEffect)(()=>{d.current=!0,_()},[t,n,_]),{setNavigationIntent:(0,l.useCallback)(e=>{h.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:F,itemsLength:t.length,itemsPerPage:P,mode:a,focusedIndex:E,setFocusedIndex:j,onIndexChange:s}),R=(0,l.useCallback)(e=>{let t=F.current;if(!t)return;let n=Array.from(t.children),r=Math.max(0,Math.min(e,n.length-1)),l=n[r];if(l&&"number"==typeof l.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:l.offsetLeft-e,behavior:M?"auto":"smooth"})}},[M]),H=(0,l.useCallback)(e=>{L(e),R(e),j(e),s?.({currentIndex:E,nextIndex:e})},[E,s,R,L]);(0,l.useLayoutEffect)(()=>{void 0!==m&&m!==E&&t.length&&H(m)},[m,E,H,t.length]);let D=(0,l.useCallback)(e=>()=>j(e),[]),$=(0,l.useCallback)(()=>j(-1),[]),N=(0,l.useRef)(new Map),U=(0,l.useCallback)(e=>(N.current.has(e)||N.current.set(e,D(e)),N.current.get(e)),[D]);(0,l.useLayoutEffect)(()=>{N.current.clear()},[t]);let W=(0,I.ZP)(),Y=!(0,I.ds)(W),V="single"===a,G=`carousel--mode-${a}`,q=V?`
  .${G} {
    anchor-name: --${G};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${S(G,"single")}
    }

    &.scroll-buttons {
      ${w(G)}
    }
  }
`:function(e,t,n=!1){return`
  .${e} {
    --carousel-edge-padding: ${n?"0.5rem":"1rem"};
    --carousel-gap: 0.5rem;
    --calculated-column-width: calc(
      (
        100cqw
        - var(--carousel-edge-padding)
        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))
      ) / var(--carousel-item-count)
    );
    anchor-name: --${e};
    counter-reset: item;
    display: grid;
    gap: var(--carousel-gap);
    grid-auto-flow: column;
    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));
    list-style-type: none;
    margin-block: 0rem;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-block: ${n?"0rem":"1rem"};
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
    }

    &.scroll-markers {
      ${S(e,"multi",t)}
    }

    &.scroll-buttons {
      ${w(e)}
    }
  } `}(G,P,Y),X={...e&&{"--carousel-item-height":`${e}px`},...n&&{"--carousel-item-width":`${n}px`}},J=i()(G,{"scroll-markers":f,"scroll-buttons":_});return(0,u.jsxs)(o.xu,{ref:Z,"aria-labelledby":c,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:z,onFocus:O,onMouseOut:K,onMouseOver:B,width:"100%",children:[(0,u.jsx)(k.Z,{unsafeCSS:q}),T&&(0,u.jsx)(p,{carouselClassName:G,containerRef:Z,currentIndex:E,itemCount:t.length,itemsPerPage:P,onIndexChange:H,showNavigationArrows:A}),(0,u.jsx)("ul",{ref:F,className:J,style:X,children:t.map((e,t)=>(0,u.jsx)("li",{children:d({item:e,index:t,isFocused:E===t,onFocus:U(t),onUnfocus:$})},e?.id??e?.entityId??t))}),C&&(0,u.jsx)(o.xu,{marginBottom:4,children:(0,u.jsx)(y,{currentIndex:E,itemCount:t.length,itemsPerPage:P,mode:a,onNavigateToIndex:H})})]})}},382964:function(e,t,n){n.d(t,{Z:()=>o});var r,l=n(667294);n(167912);var a=n(183e3);let i=(void 0!==r||(r=n(33653)).hash&&"3d7a6d04f923d00acfb2887f852aea16"!==r.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function o({pinKey:e,maxWidth:t}){let n=(0,a.Z)(i,e),r=n?.imageSpec_564x||n?.imageSpec_736x||n?.imageSpec_orig||n?.imageSpec_474x||n?.imageSpec_236x,o=r?.width||1,s=r?.height||1,c=r?.url||"",d=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(o,s,t);return{getNormalizedPinImage:(0,l.useCallback)(()=>({width:d.width,height:d.height,url:c}),[d.height,d.width,c])}}},64151:function(e,t,n){n.d(t,{Z:()=>h});var r=n(686659),l=n(667294),a=n(740097),i=n(24246),o=n(501010),s=n(696749),c=n(785893);function d({category:e,ingredients:t,textSize:n="300"}){return(0,l.useEffect)(()=>{(0,r.Z)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,c.jsxs)(a.xu,{children:[e&&(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xe,{size:n,weight:"bold",children:e})}),(0,c.jsx)("ul",{children:t.map((e,t)=>(0,c.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,c.jsx)(a.xu,{marginTop:1,children:(0,c.jsxs)(a.xe,{size:n,children:["• ",e.amt||null," ",e.name]})})},t))})]})}function u({instructions:e}){return((0,l.useEffect)(()=>{(0,r.Z)("Instructions","/app/packages/recipePin/Instructions.tsx")},[]),e)?e.map((e,t)=>{let n=`Step ${t+1}`;return(0,c.jsxs)(a.xu,{children:[(0,c.jsx)(a.xe,{size:"200",weight:"bold",children:n}),(0,c.jsx)(a.xe,{size:"100",children:e})]},n)}):null}var m=n(55475),p=n(234278),g=n(113759);function h({recipeProps:e,marginOverrides:t}){var n;(0,l.useEffect)(()=>{(0,r.Z)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let h=(0,i.Z)(),{checkExperiment:f}=(0,o.Z)(),{image:y,name:_,categorizedIngredients:x,instructions:b}=e.recipe,{peekCloseupEnabled:v}=(0,g.x4)(),w=b&&f("web_food_indicator").anyEnabled,S=0;if(x&&x.length){let e=[];x.forEach(t=>(S+=t.ingredients.length,e.push(t.ingredients)))}let k=v?(n=S,(0,s.Z)(h.ngettext('{{ count }} Ingredient', '{{ count }} Ingredients', n, 'closeup.recipePin.heading.ingredientCount', 'Ingredient count on a Pin. count: number of ingredients'),{count:n.toString()})):h._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');return(0,c.jsx)(a.xu,{marginBottom:2,marginTop:2,children:(0,c.jsxs)(m.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,c.jsx)("meta",{content:_,itemProp:"name"}),(0,c.jsx)("meta",{content:y,itemProp:"image"}),w&&(0,c.jsx)(p.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(u,{instructions:b})})}),(0,c.jsx)(p.Z,{heading:k,children:(0,c.jsx)(a.xu,{children:x.map(({category:e,ingredients:n},r)=>{let i=`ingredient-${r}`;return(0,c.jsx)(l.Fragment,{children:(0,c.jsx)(a.xu,{marginBottom:t?.ingredientMarginBottom||4,children:(0,c.jsx)(d,{category:e,ingredients:n,textSize:"200"})})},i)})})})]})})}},55475:function(e,t,n){n.d(t,{Z:()=>i});var r=n(686659),l=n(667294),a=n(785893);let i=e=>{(0,l.useEffect)(()=>{(0,r.Z)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,a.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},735403:function(e,t,n){n.d(t,{Z:()=>l});var r=n(900946);function l(e){let{enteredQuery:t,filters:n,guideAdded:l,query:a,requestParams:i,rs:o,scope:s,selectedOneBarModules:c,user:d,inlineSuggestion:u}=e;if(!a)return"/";let m={q:a,rs:o,...i};if(n&&(m.filters=n),d&&(m.user=d),c&&(m.selected_one_bar_modules=c),l&&l.term&&(m.add_refine=`${l.term}|guide|word|${l.index}`),t&&(m.entered_query=t),u&&(m.inline_suggestion=u),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.Z)(m)}`;let p=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(p??"")||(p="pins"),p?`/search/${p}/?${(0,r.Z)(m)}`:`${window.location.pathname}?${(0,r.Z)(m)}`}},327638:function(e,t,n){n.d(t,{Z:()=>o});var r=n(686659),l=n(667294),a=n(740097),i=n(785893);function o(){return(0,l.useEffect)(()=>{(0,r.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,i.jsx)(a.xu,{display:"visuallyHidden",children:", "})}},954928:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},371266:function(e,t,n){n.d(t,{Z:()=>r});function r({cropArea:e,cropSource:t,requestParams:n,searchQuery:r,surfaceType:l,title:a,trafficSource:i}){let o=[];if(e){let{x:t,y:n,w:r,h:l}=e;t>=0&&n>=0&&r>=0&&l>=0&&o.push(`x=${t}`,`y=${n}`,`w=${r}`,`h=${l}`)}return t&&o.push(`cropSource=${t}`),l&&o.push(`surfaceType=${l}`),a&&o.push(`full_feed_title=${encodeURIComponent(a)}`),r&&o.push(`q=${r}`),i&&"unknown"!==i&&o.push(`rs=${i}`),n&&o.push(`requestParams=${encodeURIComponent(n)}`),o.length?`?${o.join("&")}`:""}},619784:function(e,t,n){n.d(t,{Z:()=>l});var r=n(371266);function l({cropArea:e,cropSource:t,isProductPage:n,pinId:l,requestParams:a,searchQuery:i,surfaceType:o,title:s,trafficSource:c}){let d=(0,r.Z)({cropArea:e,cropSource:t,requestParams:a,searchQuery:i,surfaceType:o,title:s,trafficSource:c}),u="";return n&&(u="products/"),`/pin/${l}/visual-search/${u}${d}`}},645479:function(e,t,n){n.d(t,{Z:()=>c});var r=n(686659),l=n(667294),a=n(49254),i=n(310758),o=n(785893);let s=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper","pin-card-hover-overlay-gradient-full"]);function c({children:e,headerHeightModifier:t}){(0,l.useEffect)(()=>{(0,r.Z)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let n=(0,a.t)();return(0,o.jsx)(i.Z,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:e=>{let{target:r}=e;if(r instanceof HTMLElement&&("IMG"===r.tagName||s.has(r.getAttribute("data-test-id")??""))){let e=r.getBoundingClientRect().top+window.scrollY-n-(t??0);window.scrollTo(window.scrollX,e)}},pressState:"none",children:e})}},143677:function(e,t,n){n.d(t,{Z:()=>P});var r,l=n(686659),a=n(667294);n(167912);var i=n(740097),o=n(104999),s=n(935059),c=n(183e3),d=n(24246),u=n(995514),m=n(720459),p=n(216975),g=n(774838),h=n(935833),f=n(327638),y=n(380938),_=n(739405),x=n(474885),b=n(319226),v=n(914253),w=n(785893);function S({boardId:e}){(0,a.useEffect)(()=>{(0,l.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,s.Z)(),n=(0,_.HG)(),r=(0,v.gC)()(e),o=function(e){let t=(0,s.Z)(),n=(0,_.HG)()&&t&&t.isAuth,r=(0,v.gC)()(e);return(0,a.useMemo)(()=>{if(!r)return[];let{owner:e,collaborating_users:l}=r,[a,i,o]=[new Set,new Set,new Set];for(let n of[...e?[e]:[],...l||[]])n.id===e?.id?a.add(n):n.id===(t.isAuth?t.id:void 0)?i.add(n):o.add(n);return[...a,...i,...o].map(e=>({name:(n?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[n,r,t])}(e);if(!r)return null;let{collaborator_count:c=0}=r,d=n&&t&&t.isAuth?23:16,u=d/3*((o.length>2?3:o.length)*2+1),m=c>=o.length?c-o.length:0,p=[...o,...Array(m=m>99?100:m).fill({name:"",src:""})];return(0,w.jsxs)(i.xu,{height:d,marginStart:2,minWidth:u,width:u,children:[(0,w.jsx)(f.Z,{}),(0,w.jsx)(b.HE,{collaborators:p})]})}var k=n(464094),I=n(748261),C=n(338065),T=n(69841),E=n(798385),j=n(305375);let F=(void 0!==r||(r=n(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==r.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),Z=({children:e,isOwnProfile:t,lineClamp:n})=>(0,_.HG)()?(0,w.jsx)(i.qd,{accessibilityLevel:2,lineClamp:t?1:n,size:t?"400":"300",children:e}):(0,w.jsx)(i.xv,{lineClamp:t?1:n,size:t?void 0:"200",weight:"bold",children:e});function P({auxData:e,archivedDate:t,boardId:n,boardUrl:r,canEdit:b,numberOfCollaborators:v,containerBackgroundColor:P,coverPhoto:M,display:A,followButtonDisabled:O=!1,followedByMe:z,fullSizeDrawer:B,sensitivityScreen:K,handleInviteResponse:L,hideMeta:R,hideSecretBoardIcon:H=!1,id:D,invite:$,imagesLego:N=[],isActive:U,isAttributionHeightUnfixed:W,isAuthenticated:Y,isBoardInviteAccepted:V,isCollaborative:G,isCollaborator:q,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:J=!1,isHomePageBoards:Q,isOwner:ee,isProtected:et,isSecret:en,lastModifiedDate:er,layout:el,lineClamp:ea=2,locale:ei,metaMarginTop:eo=0,metaMarginBottom:es=0,metaPaddingY:ec=2,name:ed,numCols:eu,onEditClick:em,onFollow:ep,onUnfollow:eg,pinCount:eh=0,sectionCount:ef,slotIndex:ey,showFollowButton:e_,showBoardCollaborators:ex=!0,showTitleOnly:eb,trackingParams:ev,boardKey:ew,viewObjectIdStr:eS,viewParameter:ek,viewType:eI}){(0,a.useEffect)(()=>{(0,l.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let eC=(0,d.Z)(),eT=(0,u.Z)(),eE=(0,m.Z)(),ej=(0,o.Z)(),eF=(0,_.HG)(),{isRTL:eZ}=(0,g.B)(),eP=(0,s.Z)(),{username:eM}=(0,j.Z)(),eA=(0,E.Z)(),eO=eA[eM??""]?.is_gco_account,ez=(0,c.Z)(F,ew),{featuredBoardMetadata:eB}=ez||{},{curator:eK,isSponsoredContent:eL}=eB||{},eR=J&&eL,eH=eF&&Y,eD="square"===el?k.M0:k.z9,e$="responsive"!==A&&(eH||J)?eD:"100%",eN=eP.isAuth&&eP.username===eM,eU=e=>{Y||(0,h.NC)("press_follow_board"),ep&&ep(e)},eW=e=>{Y||(0,h.NC)("press_unfollow_board"),eg&&eg(e)},eY=N.map(e=>({url:e.url,name:ed})),eV=!!ez?.owner&&!b&&e_,eG=ez?.owner?.isVerifiedMerchant,eq=ez?.owner?.verifiedIdentity?.verified,eX=G&&!J;eN||(eX&&=!!eM&&!eO);let eJ=!ee&&!q&&!!K?.show_warning,eQ={board_id:D,reason:K?.reason},e0=!eN&&!eb&&(!eM||X||eO),e1=eH?void 0:k.s0+(eV?k.o2:0);eN||(e1=eF?void 0:(e0?k.AC:k.Y_)+(eV?k.o2:0));let e2=eV&&"responsive"!==A?`max(calc(25vh + 10px), calc(210px + ${5*!eN}vh))`:"100%";return(0,a.useEffect)(()=>{eJ&&ej({event_type:13,component:13861,view_type:215,aux_data:eQ})},[]),(0,w.jsx)(T.fS,{auxData:{board_id:D,board_pin_count:eh??0,board_section_count:ef??0,grid_index:ey||0,...e},impressionData:{imageURL:M?.url},loggingId:D,slotIndex:ey||0,trackingParams:ev,viewData:{view_object_id_str:eS},viewParameter:ek,viewType:eI,children:({impressionTrackerRef:e})=>(0,w.jsxs)(i.xu,{ref:e,"data-test-id":`boardCard-${ed}`,height:t&&!eF?"100%":e2,position:"relative",width:e$,children:[(0,w.jsx)(i.zd,{rounding:4,children:(0,w.jsx)(I.Z,{boardKey:ez,canEdit:b,containerBackgroundColor:P,coverPhoto:M,coverPinKey:ez?.coverPin,fullSize:B,hideSecretBoardIcon:H,images:eY,isActive:U,isHomePageBoards:Q,isProtected:et,isSecret:en,layout:el,onEditClick:em,renderAsImage:!0,showSensitivityScreen:eJ})}),!R&&(0,w.jsx)(a.Fragment,{children:$?(0,w.jsxs)(a.Fragment,{children:[(0,w.jsxs)(i.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,w.jsxs)(i.xu,{width:"100%",children:[(0,w.jsx)(i.rU,{href:r??"",children:(0,w.jsx)(i.xu,{marginBottom:1,marginTop:0,children:(0,w.jsx)(Z,{isOwnProfile:eN,lineClamp:ea,children:ed})})}),V?(0,w.jsx)(i.xv,{lineClamp:1,size:"200",children:eC._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,w.jsx)(i.xv,{size:"200",children:function(e,t){let{full_name:n,username:r}=e,l=(0,w.jsx)(i.rU,{display:"inlineBlock",href:`/${r}`,underline:"hover",children:n},"linkToUser");return(0,p.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:l})}($.invited_by_user,eC)})]}),ex&&(0,w.jsx)(S,{boardId:n})]}),V?(0,w.jsx)(i.xu,{direction:"row",display:"flex",paddingX:2,children:(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.ZP,{fullWidth:!0,href:r??"",size:"lg",text:eC._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,w.jsxs)(i.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.zx,{fullWidth:!0,onClick:()=>{L?.(!1)},size:"lg",text:eC._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,w.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>{L?.(!0)},size:"lg",text:eC._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,w.jsxs)(i.xu,{height:W?void 0:e1,marginBottom:es,marginTop:eo,paddingX:2,paddingY:ec,children:[(0,w.jsxs)(i.xu,{alignItems:eN?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,w.jsx)(Z,{isOwnProfile:eN,lineClamp:ea,children:ed}),eX&&ex&&(0,w.jsx)(S,{boardId:n})]}),e0&&(0,w.jsx)(i.xu,{marginTop:1,children:eR?(0,w.jsx)(x.Z,{numberOfCollaborators:0,ownerFullName:eK?.fullName??"",ownerIsVerifiedIdentity:!!eK?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eK?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,w.jsx)(x.Z,{numberOfCollaborators:v,ownerFullName:ez?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eq,ownerIsVerifiedMerchant:!!eG,showBoardCollaborators:ex})}),!eb&&(0,w.jsxs)(i.xu,{alignItems:eF?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,w.jsx)(i.kC.Item,{flex:"none",children:(0,w.jsxs)(i.xv,{color:eN?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(f.Z,{}),(0,p.nk)(eC.ngettext('{{ count }} Pin', '{{ count }} Pins', eh, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eE(ei,eh,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ef&&(0,w.jsxs)(i.xv,{color:eN?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(y.Z,{ariaHidden:!0,size:"100"}),(0,w.jsx)(f.Z,{}),(0,p.nk)(eC.ngettext('{{ count }} section', '{{ count }} sections', ef, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ef})]}),!eN&&(0,w.jsx)(i.xv,{color:"subtle",size:"100",children:(0,w.jsx)(y.Z,{ariaHidden:!0,size:"100"})}),(0,w.jsx)(i.kC.Item,{flex:ef?"none":"grow",children:(0,w.jsx)(i.xu,{display:"flex",marginEnd:2*!!eZ,marginStart:eN?2:void 0,children:(0,w.jsxs)(i.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(f.Z,{}),eT(er,!0)]})})})]}),t&&!eF&&(0,w.jsxs)(i.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,w.jsx)(f.Z,{}),eC._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eV&&(0,w.jsx)(i.xu,{column:2===eu?12:void 0,flex:"none",marginTop:2===eu?3:void 0,children:(0,w.jsx)(C.Z,{disabled:!!ez?.owner?.blockedByMe||O,followEventType:26,id:D,isFollowed:z,onFollow:eU,onUnfollow:eW,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ek,viewType:eI})})]})})]})})}},662911:function(e,t,n){n.r(t),n.d(t,{default:()=>k});var r,l=n(686659),a=n(667294),i=n(581722);n(167912);var o=n(740097),s=n(104999),c=n(935059),d=n(183e3),u=n(774838),m=n(935833),p=n(736328),g=n(739405),h=n(143677),f=n(422913),y=n(214451),_=n(701572),x=n(914253),b=n(785893);let v=(void 0!==r||(r=n(786897)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==r.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=["thumbnail","imageOnly"],S=({isUsingMask:e,setIsHovered:t,children:n})=>{let r=(0,g.HG)();return e&&r?(0,b.jsx)(o.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:n}):(0,b.jsx)(a.Fragment,{children:n})};function k({auxData:e,boardKey:t,component:n,containerBackgroundColor:r,display:k="responsive",forwardedRef:I,fullSize:C,hideSecretBoardIcon:T=!1,isAttributionHeightUnfixed:E=!1,isCollaboratorsAttributionVisible:j=!1,isFeaturedBoardsModule:F=!1,isHomePageBoards:Z,noPaddings:P=!1,showFollowButton:M=!0,isUsingMask:A=!1,showPinCount:O=!0,slotIndex:z,type:B,viewObjectIdStr:K,viewParameter:L,viewType:R,trackInteractionObjectProp:H,isFromProfileGrid:D=!1,metaMarginTop:$=2,metaMarginBottom:N=0,metaPaddingY:U=0}){(0,a.useEffect)(()=>{(0,l.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let W=(0,c.Z)(),Y=W&&W.isAuth,V=(0,i.I0)(),{locale:G}=(0,u.B)(),q=(0,p.Z)(),X=(0,d.Z)(v,t),J=(0,x.gC)(),Q=X?.entityId?J(X.entityId):null,ee=(0,f.Z)(X),et=(0,s.Z)(),en=(0,g.HG)(),[er,el]=(0,a.useState)(!1);if(!X)return null;let{collaboratingUsers:ea,owner:ei,privacy:eo,shouldShowBoardCollaborators:es}=X,ec=W.isAuth?W.id:"",ed=ei?.entityId===ec,eu=[];ea?.__typename==="UserCollaboratingUsersConnectionContainer"?eu=ea.connection?.edges?.map(e=>e?.node?.entityId)??[]:Q?.collaborating_users&&(eu=Q.collaborating_users.map(e=>e.id));let em=eu.includes(ec)||ed;if("secret"===eo&&!em)return null;let ep=!Y&&!(D&&X.hasCustomCover)&&!!X.images236x?.[0]?.url,eg="grid"===B||"thumbnail"===B?2:4,eh=ep?X.images236x?.[0]?.url:ee(eg),ef=X.coverPin??Q?.cover_pin,ey=(ef?.crop&&ef?.size&&{x:ef?.crop[0]??0,y:ef?.crop[1]??0,width:ef?.size[0]??0,height:ef?.size[0]??0})??{x:0,y:0,width:0,height:0},e_={isCustom:!ep&&(X.hasCustomCover||void 0),url:eh,position:ey},ex=X.pinThumbnailUrls??Q?.pin_thumbnail_urls,eb=(0,y.Jx)(X.images170x,ex?.filter(e=>null!==e)??void 0,eh).map(({url:e})=>({name:(0,y.po)(e),url:e})),ev=[44,49,4182].includes(L)||[3,442,625].includes(R),ew=X?.sensitivityScreen?{reason:X.sensitivityScreen?.reason,showWarning:X.sensitivityScreen?.showWarning}:void 0,eS=X.pinCount??Q?.pin_count??0,ek=X.sectionCount??Q?.section_count??0,eI=(0,b.jsx)(h.Z,{archivedDate:X.archivedByMeAt??Q?.archived_by_me_at,auxData:e,boardId:X.entityId,boardKey:X,canEdit:!!X.boardAccess&&X.boardAccess.includes("write"),containerBackgroundColor:r,coverPhoto:e_,display:k,followedByMe:!!(Q?.followed_by_me??X.followedByMe),fullSizeDrawer:C,hideMeta:w.includes(B),hideSecretBoardIcon:T,id:X.entityId,imagesLego:eb,isActive:er,isAttributionHeightUnfixed:E,isAuthenticated:Y,isCollaborative:!!X.isCollaborative,isCollaborator:!!em,isCollaboratorsAttributionVisible:j,isFeaturedBoardsModule:F,isHomePageBoards:Z,isOwner:ed,isProtected:"protected"===X.privacy||Q?.privacy==="protected",isSecret:"secret"===X.privacy||Q?.privacy==="secret",lastModifiedDate:X.boardOrderModifiedAt??Q?.board_order_modified_at??"",layout:en?"square":void 0,locale:G,metaMarginBottom:N,metaMarginTop:$,metaPaddingY:U,name:X.name??(Q?.name||""),numberOfCollaborators:eu.length,numCols:eg,onFollow:e=>V((0,_.Z)(e,et)),onUnfollow:e=>V((0,_.f)(e,et)),pinCount:O&&eS?eS:void 0,sectionCount:ek??0,sensitivityScreen:ew,showBoardCollaborators:!1!==es,showFollowButton:M,showTitleOnly:"imageTitle"===B,slotIndex:z,viewerId:ec,viewObjectIdStr:K,viewParameter:L,viewType:R}),eC=X.url||Q?.url;return!w.includes(B)&&eC?(0,b.jsx)(o.Tg,{dataTestId:"board-rep-tap-area-link",href:Y?eC:eC.toLowerCase(),onTap:()=>{if(ev&&et({aux_data:{board_id:X.entityId,board_pin_count:eS,board_section_count:ek,story_type:e?.story_type},component:n??1,element:36,event_type:102,view_parameter:49===L?ed?3106:3107:L,view_data:{view_object_id_str:K}}),!Y){if((0,m.NC)("click_go_to_board"),H)return void q(H);q({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,b.jsx)(o.xu,{ref:I,paddingY:P?0:en?2:3,children:(0,b.jsx)(S,{isUsingMask:A,setIsHovered:el,children:eI})})}):eI}},474885:function(e,t,n){n.d(t,{Z:()=>m});var r=n(686659),l=n(667294),a=n(740097),i=n(271255),o=n(24246),s=n(720459),c=n(774838),d=n(785893);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function m({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:n,numberOfCollaborators:m,size:p="xs",showBoardCollaborators:g=!0}){(0,l.useEffect)(()=>{(0,r.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let h=(0,o.Z)(),{locale:f}=(0,c.B)(),y=(0,s.Z)();return(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[p].height,children:[(0,d.jsx)(a.xe,{lineClamp:1,size:u[p].text,children:(0,d.jsx)(i.Z,{text:e})}),(t||n)&&(0,d.jsx)(a.xu,{flex:"none",marginStart:1,children:t?(0,d.jsx)(a.kw,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:u[p].icon}):(0,d.jsx)(a.kw,{accessibilityLabel:h._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:u[p].icon})}),g&&m>0&&(0,d.jsx)(a.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,d.jsx)(a.xe,{size:u[p].text,children:"+ "+y(f,m,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},422913:function(e,t,n){n.d(t,{Z:()=>o}),n(167912);var r,l=n(183e3),a=n(914253);let i=(void 0!==r||(r=n(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==r.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),o=e=>{let t=(0,l.Z)(i,e),n=(0,a.gC)(),r=t?.entityId?n(t.entityId):null,o=t?.imageCoverUrl??r?.image_cover_url,s=t?.coverImageSpec_216x146??r?.cover_images?.spec_216x146,c=t?.coverImageSpec_222x??r?.cover_images?.spec_222x,d=t?.coverImageSpec_400x300??r?.cover_images?.spec_400x300;return e=>{let n=t?.imageCoverHdUrl||t?.imageCoverUrl;if(n)return n;let r=d?.url??c?.url??s?.url??"";return e&&e>2&&r?r:o||""}}},214451:function(e,t,n){n.d(t,{Bw:()=>o,Jx:()=>i,po:()=>r});let r=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),l=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),a=e=>{if(!e)return()=>!0;let t=r(e);return e=>"string"==typeof e?r(e)!==t:r(e.url??"")!==t},i=(e,t,n)=>e?e.filter(a(n)):t?t.filter(a(n)).map(l):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},234278:function(e,t,n){n.d(t,{Z:()=>m});var r=n(686659),l=n(667294),a=n(740097),i=n(879405),o=n(230201),s=n(774838),c=n(739405),d=n(113759),u=n(785893);function m({auxData:e,children:t,collapseButtonElementType:n,collapseByDefault:m=!0,componentType:p,displayViewState:g,expandButtonElementType:h,forceTappableHeader:f,headerHeight:y,headerPaddingRight:_,headerPreview:x,heading:b,surface:v,viewParameter:w,viewType:S}){(0,l.useEffect)(()=>{(0,r.Z)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let k=(0,c.HG)(),{isBot:I}=(0,s.B)(),{logContextEvent:C}=(0,o.u)(),{setIsShoppingModuleExpanded:T}=(0,d.x4)(),E=(0,l.useRef)(null),[j,F]=(0,l.useState)(void 0),[Z,P]=(0,l.useState)(!I&&m||null!=g&&[1,2].includes(g));return(0,l.useEffect)(()=>{E.current&&F(E.current.scrollHeight+parseInt(window.getComputedStyle(E.current?.firstElementChild).marginTop,10))},[E]),(0,l.useEffect)(()=>{T&&T(!Z)},[]),(0,u.jsxs)(a.kC,{dataTestId:"collapsible-layout",direction:"column",gap:4*!k,children:[(0,u.jsx)(i.Z,{collapsed:Z,displayViewState:g,forceTappableHeader:f,headerHeight:y,headerPaddingRight:_,headerPreview:x,heading:b,onClick:()=>{P(!Z),T&&T(Z),C({aux_data:e,component:p,element:Z?h:n,event_type:k?101:102,view_parameter:w,view_type:S})},showArrow:!0,surface:v}),k?(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${Z?"collapsed":"expanded"}`,height:Z?"0px":`${j}px`,marginBottom:Z?void 0:1,overflow:"hidden",children:(0,u.jsx)(a.xu,{ref:E,children:t})}):!Z&&(0,u.jsx)(a.xu,{children:t})]})}},515158:function(e,t,n){n.d(t,{Z:()=>s});var r=n(686659),l=n(667294),a=n(740097),i=n(440077),o=n(785893);function s({children:e,color:t,isDarkMode:n,outlined:s,type:c="bold",rounding:d=4}){return(0,l.useEffect)(()=>{(0,r.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,o.jsxs)(a.xu,{position:"relative",children:[(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:d,children:e}),s&&(0,o.jsx)(a.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",l=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===n?{border:`1px solid ${e??i.v$5}`,boxShadow:`inset 0 0 0 1px ${i.z6F}`,WebkitBoxShadow:`inset 0 0 0 1px ${i.z6F}`,MozBoxShadow:`inset 0 0 0 1px ${i.z6F}`}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${l}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${l}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${l}`}}({color:t,isDarkMode:n,type:c})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:d,top:!0})]})}},148:function(e,t,n){n.d(t,{n:()=>m,v:()=>p});var r=n(667294),l=n(312048),a=n(213491),i=n(477738),o=n(739405),s=n(582610),c=n(305375),d=n(785893);let{Provider:u,get:m}=(0,a.Z)("SearchParams"),p=({children:e,value:t})=>{let n=function(){let e=(0,o.HG)(),{search:t,pathname:n}=(0,l.TH)(),{scope:r}=(0,c.Z)(),a=!r&&n.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:a?i.lw.SHOP_TOOL:r,search:t})}(),a=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,d.jsx)(u,{value:a,children:e})}},261926:function(e,t,n){n.d(t,{CT:()=>r,HE:()=>l,Mq:()=>a,ti:()=>i});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},l={CLOSEUP:"closeup"},a={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},i={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},582610:function(e,t,n){n.d(t,{Z:()=>a});var r=n(477738),l=n(575820);function a({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:a="",b_id:i,brands:o,category:s,colors:c,commerce_only:d="",cover_pin_sig:u,deb_d:m,domains:p,filters:g,guided_search_query:h,inline_suggestion:f,interest_id:y,journey_depth:_,on_sale:x,price_max:b,price_min:v,q:w,query_pin_sigs:S,request_params:k,rs:I,selected_one_bar_modules:C,source_id:T,source_module_id:E,tab:j,top_pin_ids:F,user:Z}=(0,l.mB)(n),P="true"===d.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:o,bubbleId:i,category:s,colors:c,commerceOnly:"true"===d.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:g,debD:m,domains:p,guidedSearchQuery:h,inlineSuggestion:f,interestId:y,journeyDepth:_?parseInt(_,10):void 0,onSale:x,personalizationPinSig:S,placementId:(0,r.Hd)(P,e),priceMax:b,priceMin:v,query:w,requestParams:k,rs:I,scope:P,selectedOneBarModules:C,sourceId:T,sourceModuleId:E,tab:j||"",topPinIds:F,user:Z,viewParameter:(0,r._R)(P),viewType:P===r.lw.SHOP_TOOL?1:2}}},701572:function(e,t,n){n.d(t,{Z:()=>a,f:()=>i});var r=n(47755),l=n(160587);function a(e,t){return async n=>{n((0,l.md)(e,!0));try{await (0,r.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){n((0,l.md)(e,!1))}}}function i(e,t){return async n=>{n((0,l.md)(e,!1));try{await (0,r.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){n((0,l.md)(e,!0))}}}},496516:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){let{group:n}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===n||"employees"===n||n===`enabled_${t}`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72908-f3fa0a248d09d974.mjs.map